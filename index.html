<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebRTC Encoded Transform</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/webrtc-encoded-transform/" rel="canonical">
  <meta content="cf0e77a7e4f372ef8e6e4cb1f1cdfb2d2bcb3d71" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebRTC Encoded Transform</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="2025-05-22">22 May 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/webrtc-encoded-transform/">https://w3c.github.io/webrtc-encoded-transform/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/webrtc-encoded-transform/">https://www.w3.org/TR/webrtc-encoded-transform/</a>
      <dt>Feedback:
      <dd><span><a href="mailto:public-webrtc@w3.org?subject=%5Bwebrtc-encoded-transform%5D%20YOUR%20TOPIC%20HERE">public-webrtc@w3.org</a> with subject line “<kbd>[webrtc-encoded-transform] <i data-lt>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-webrtc/" rel="discussion">archives</a>)</span>
      <dd><a href="https://github.com/w3c/webrtc-encoded-transform/issues/">GitHub</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="24610"><a class="p-name fn u-email email" href="mailto:hta@google.com">Harald Alvestrand</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="84810"><a class="p-name fn u-email email" href="mailto:guidou@google.com">Guido Urdaneta</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="96458"><a class="p-name fn u-email email" href="mailto:youenn@apple.com">Youenn Fablet</a> (<a class="p-org org" href="https://www.apple.com">Apple</a>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This API defines an API surface for manipulating the bits on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack" id="ref-for-dom-mediastreamtrack">MediaStreamTrack</a></code>s being sent via an <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection">RTCPeerConnection</a></code>.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> If you wish to make comments regarding this document, please send them to <a href="mailto:public-webrtc@w3.org?Subject=%5Bwebrtc-encoded-transform%5D%20PUT%20SUBJECT%20HERE">public-webrtc@w3.org</a> (<a href="mailto:public-webrtc-request@w3.org?subject=subscribe">subscribe</a>, <a href="https://lists.w3.org/Archives/Public/public-webrtc/">archives</a>).
	When sending e-mail,
	please put the text “webrtc-encoded-transform” in the subject,
	preferably like this:
	“[webrtc-encoded-transform] <em>…summary of comment…</em>”.
	All comments are welcome. </p>
   <p> This document was produced by the <a href="https://www.w3.org/groups/wg/webrtc">Web Real-Time Communications Working Group</a>. </p>
   <p> This document was produced by a group operating under
	the <a href="https://www.w3.org/policies/patent-policy/">W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/47318/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#specification"><span class="secno">2</span> <span class="content">Specification</span></a>
     <ol class="toc">
      <li>
       <a href="#operation"><span class="secno">2.1</span> <span class="content">Extension operation</span></a>
       <ol class="toc">
        <li><a href="#stream-creation"><span class="secno">2.1.1</span> <span class="content">Stream creation</span></a>
        <li><a href="#stream-processing"><span class="secno">2.1.2</span> <span class="content">Stream processing</span></a>
       </ol>
      <li><a href="#attribute"><span class="secno">2.2</span> <span class="content">Extension attribute</span></a>
     </ol>
    <li>
     <a href="#sframe"><span class="secno">3</span> <span class="content">SFrameTransform</span></a>
     <ol class="toc">
      <li><a href="#sframe-transform-algorithm"><span class="secno">3.1</span> <span class="content">Algorithm</span></a>
      <li><a href="#sframe-transform-methods"><span class="secno">3.2</span> <span class="content">Methods</span></a>
     </ol>
    <li>
     <a href="#scriptTransform"><span class="secno">4</span> <span class="content">RTCRtpScriptTransform</span></a>
     <ol class="toc">
      <li>
       <a href="#RTCEncodedFrameMetadata"><span class="secno">4.1</span> <span class="content"><span><code>RTCEncodedFrameMetadata</code></span> dictionary</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedFrameMetadata-members"><span class="secno">4.1.1</span> <span class="content">Members</span></a>
       </ol>
      <li><a href="#RTCEncodedVideoFrameType"><span class="secno">4.2</span> <span class="content"><span><code>RTCEncodedVideoFrameType</code></span> dictionary</span></a>
      <li>
       <a href="#RTCEncodedVideoFrameMetadata"><span class="secno">4.3</span> <span class="content"><span><code>RTCEncodedVideoFrameMetadata</code></span> dictionary</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedVideoFrameMetadata-members"><span class="secno">4.3.1</span> <span class="content">Members</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedVideoFrame-interface"><span class="secno">4.4</span> <span class="content"><span><code>RTCEncodedVideoFrame</code></span> interface</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedVideoFrame-constructor"><span class="secno">4.4.1</span> <span class="content">Constructor</span></a>
        <li><a href="#RTCEncodedVideoFrame-members"><span class="secno">4.4.2</span> <span class="content">Members</span></a>
        <li><a href="#RTCEncodedVideoFrame-methods"><span class="secno">4.4.3</span> <span class="content">Methods</span></a>
        <li><a href="#RTCEncodedVideoFrame-serialization"><span class="secno">4.4.4</span> <span class="content">Serialization</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedAudioFrameMetadata"><span class="secno">4.5</span> <span class="content"><span><code>RTCEncodedAudioFrameMetadata</code></span> dictionary</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedAudioFrameMetadata-members"><span class="secno">4.5.1</span> <span class="content">Members</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedAudioFrame-interface"><span class="secno">4.6</span> <span class="content"><span><code>RTCEncodedAudioFrame</code></span> interface</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedAudioFrame-constructor"><span class="secno">4.6.1</span> <span class="content">Constructor</span></a>
        <li><a href="#RTCEncodedAudioFrame-members"><span class="secno">4.6.2</span> <span class="content">Members</span></a>
        <li><a href="#RTCEncodedAudioFrame-methods"><span class="secno">4.6.3</span> <span class="content">Methods</span></a>
        <li><a href="#RTCEncodedAudioFrame-serialization"><span class="secno">4.6.4</span> <span class="content">Serialization</span></a>
       </ol>
      <li><a href="#RTCRtpScriptTransformer-interfaces"><span class="secno">4.7</span> <span class="content">Interfaces</span></a>
      <li><a href="#RTCRtpScriptTransform-operations"><span class="secno">4.8</span> <span class="content">Operations</span></a>
      <li><a href="#RTCRtpScriptTransformer-attributes"><span class="secno">4.9</span> <span class="content">Attributes</span></a>
      <li><a href="#RTCRtpScriptTransformer-events"><span class="secno">4.10</span> <span class="content">Events</span></a>
      <li><a href="#KeyFrame-algorithms"><span class="secno">4.11</span> <span class="content">KeyFrame Algorithms</span></a>
     </ol>
    <li>
     <a href="#rtcrtpsender-extension"><span class="secno">5</span> <span class="content">RTCRtpSender extension</span></a>
     <ol class="toc">
      <li><a href="#sender-operation"><span class="secno">5.1</span> <span class="content">Extension operation</span></a>
     </ol>
    <li><a href="#privacy"><span class="secno">6</span> <span class="content">Privacy and security considerations</span></a>
    <li><a href="#examples"><span class="secno">7</span> <span class="content">Examples</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>The <a data-link-type="biblio" href="#biblio-webrtc-nv-use-cases" title="WebRTC Extended Use Cases">[WEBRTC-NV-USE-CASES]</a> document describes the use-case of</p>
   <ul>
    <li data-md>
     <p>Untrusted JavaScript Cloud Conferencing</p>
   </ul>
   which requires that the conferencing server does not have access
to the cleartext media (requirement N27). 
   <p>This specification provides access to encoded media,
which is the output of the encoder part of a codec and the input to the
decoder part of a codec which allows the user agent to apply encryption
locally.</p>
   <p>The interface is inspired by <a data-link-type="biblio" href="#biblio-webcodecs" title="WebCodecs">[WEBCODECS]</a> to
provide access to such functionality while retaining the setup flow of
RTCPeerConnection</p>
   <h2 class="heading settled" data-level="2" id="specification"><span class="secno">2. </span><span class="content">Specification</span><a class="self-link" href="#specification"></a></h2>
   <p>The Streams definition doesn’t use WebIDL much, but the WebRTC spec does.
This specification shows the IDL extensions for WebRTC.</p>
   <p>It uses an additional API on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender">RTCRtpSender</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver">RTCRtpReceiver</a></code> to
insert the processing into the pipeline.</p>
<pre class="idl highlight def"><c- b>typedef</c-> (<a data-link-type="idl-name" href="#sframetransform" id="ref-for-sframetransform"><c- n>SFrameTransform</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform"><c- n>RTCRtpScriptTransform</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-rtcrtptransform"><code><c- g>RTCRtpTransform</c-></code></dfn>;

// New methods for RTCRtpSender and RTCRtpReceiver
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①"><c- g>RTCRtpSender</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform" id="ref-for-typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform" id="ref-for-dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver①"><c- g>RTCRtpReceiver</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform" id="ref-for-typedefdef-rtcrtptransform①"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform" id="ref-for-dom-rtcrtpsender-transform①"><c- g>transform</c-></a>;
};
</pre>
   <h3 class="heading settled" data-level="2.1" id="operation"><span class="secno">2.1. </span><span class="content">Extension operation</span><a class="self-link" href="#operation"></a></h3>
   <p>At the time when a codec is initialized as part of the encoder, and the
corresponding flag is set in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection①">RTCPeerConnection</a></code>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration" id="ref-for-dom-rtcconfiguration">RTCConfiguration</a></code> argument, ensure that the codec is disabled and produces no output.</p>
   <h4 class="heading settled" data-level="2.1.1" id="stream-creation"><span class="secno">2.1.1. </span><span class="content">Stream creation</span><a class="self-link" href="#stream-creation"></a></h4>
   <p>At construction of each <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender②">RTCRtpSender</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver②">RTCRtpReceiver</a></code>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>.<code>[[transform]]</code> to null.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>.<code>[[readable]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>.<code>[[readable]]</code>. <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>.<code>[[readable]]</code> is provided frames using the <a data-link-type="abstract-op" href="#abstract-opdef-readencodeddata" id="ref-for-abstract-opdef-readencodeddata">readEncodedData</a> algorithm given <var>this</var> as parameter.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.<code>[[writable]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream">WritableStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up" id="ref-for-writablestream-set-up">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>.<code>[[writable]]</code> with its <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" id="ref-for-writablestream-set-up-writealgorithm">writeAlgorithm</a> set to <a data-link-type="abstract-op" href="#abstract-opdef-writeencodeddata" id="ref-for-abstract-opdef-writeencodeddata">writeEncodedData</a> given <var>this</var> as parameter and its <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark" id="ref-for-writablestream-set-up-highwatermark">highWaterMark</a> set to <code>Infinity</code>.</p>
     <p class="note" role="note">highWaterMark is set to Infinity to explicitly disable backpressure.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>.<code>[[pipeToController]]</code> to null.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>.<code>[[lastReceivedFrameCounter]]</code> to <code>0</code>.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>.<code>[[lastEnqueuedFrameCounter]]</code> to <code>0</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">Queue a task</a> to run the following steps:</p>
     <ol>
      <li data-md>
       <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>.<code>[[pipeToController]]</code> is not null, abort these steps.</p>
      <li data-md>
       <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>.<code>[[pipeToController]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>.</p>
      <li data-md>
       <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>.<code>[[readable]]</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>.<code>[[writable]]</code>, preventClose equal to true, preventAbort equal to true, preventCancel equal to true and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>.<code>[[pipeToController]]</code>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal">signal</a>.</p>
     </ol>
   </ol>
   <p class="note" role="note"> Streams backpressure can optimize throughput while limiting processing and memory consumption by pausing data production as early as possible in a data pipeline.
This proves useful in contexts where reliability is essential and latency is less of a concern.
On the other hand, WebRTC media pipelines favour low latency over reliability, for instance by allowing to drop frames at various places and by using recovery mechanisms.
Buffering within a transform would add latency without allowing web applications to adapt much.
The User Agent is responsible for doing these adaptations, especially since it controls both ends of the transform.
For those reasons, streams backpressure is disabled in WebRTC encoded transforms. </p>
   <h4 class="heading settled" data-level="2.1.2" id="stream-processing"><span class="secno">2.1.2. </span><span class="content">Stream processing</span><a class="self-link" href="#stream-processing"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export id="abstract-opdef-readencodeddata">readEncodedData</dfn> algorithm is given a <var>rtcObject</var> as parameter. It is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>Wait for a frame to be produced by <var>rtcObject</var>’s encoder if it is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender③">RTCRtpSender</a></code> or <var>rtcObject</var>’s packetizer if it is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver③">RTCRtpReceiver</a></code>.</p>
    <li data-md>
     <p>Increment <var>rtcObject</var>.<code>[[lastEnqueuedFrameCounter]]</code> by <code>1</code>.</p>
    <li data-md>
     <p>Let <var>frame</var> be the newly produced frame.</p>
    <li data-md>
     <p>Set <var>frame</var>.<code>[[owner]]</code> to <var>rtcObject</var>.</p>
    <li data-md>
     <p>Set <var>frame</var>.<code>[[counter]]</code> to <var>rtcObject</var>.<code>[[lastEnqueuedFrameCounter]]</code>.</p>
    <li data-md>
     <p>If the frame has been produced by a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver④">RTCRtpReceiver</a></code>:</p>
     <ol>
      <li data-md>
       <p>If the relevant RTP packet contains the <a data-link-type="biblio" href="#biblio-rtp-ext-capture-time" title="RTP Header Extension for Absolute Capture Time">RTP Header Extension for Absolute Capture Time</a>, set <var>frame</var>.<code>[[captureTime]]</code> to the <a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/#absolute-capture-timestamp">absolute capture timestamp</a> field and set <var>frame</var>.<code>[[senderCaptureTimeOffset]]</code> to the <a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/#estimated-capture-clock-offset">capture clock offset field</a> if it is present.</p>
      <li data-md>
       <p>Otherwise, if the relevant RTP packet does not contain the <a data-link-type="biblio" href="#biblio-rtp-ext-capture-time" title="RTP Header Extension for Absolute Capture Time">RTP Header Extension for Absolute Capture Time</a> but a previous RTP packet did,
set <var>frame</var>.<code>[[captureTime]]</code> to the result of calculating the absolute capture timestamp according to <a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/#timestamp-interpolation">timestamp interpolation</a> and set <var>frame</var>.<code>[[senderCaptureTimeOffset]]</code> to the most recent value that was present.</p>
      <li data-md>
       <p>Otherwise, set <var>frame</var>.<code>[[captureTime]]</code> to undefined and set <var>frame</var>.<code>[[senderCaptureTimeOffset]]</code> to undefined.</p>
     </ol>
    <li data-md>
     <p>If the frame has been produced by a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender④">RTCRtpSender</a></code>, set <var>frame</var>.<code>[[captureTime]]</code> to the capture timestamp
using the methodology described in <a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/#absolute-capture-timestamp">RTP Header Extension for Absolute Capture Time § absolute-capture-timestamp</a> and set frame.<code>[[senderCaptureTimeOffset]]</code> to undefined.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">Enqueue</a> <var>frame</var> in <var>rtcObject</var>.<code>[[readable]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export id="abstract-opdef-writeencodeddata">writeEncodedData</dfn> algorithm is given a <var>rtcObject</var> as parameter and a <var>frame</var> as input. It is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is not equal to <var>rtcObject</var>, abort these steps and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">a promise resolved with</a> undefined. A processor cannot create frames, or move frames between streams.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[counter]]</code> is equal or smaller than <var>rtcObject</var>.<code>[[lastReceivedFrameCounter]]</code>, abort these steps and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with①">a promise resolved with</a> undefined. A processor cannot reorder frames, although it may delay them or drop them.</p>
    <li data-md>
     <p>Set <var>rtcObject</var>.<code>[[lastReceivedFrameCounter]]</code> to <var>frame</var><code>[[counter]]</code>.</p>
    <li data-md>
     <p>Let <var>data</var> be <var>frame</var>.<code>[[data]]</code>.</p>
    <li data-md>
     <p>Let <var>serializedFrame</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</a>(<var>frame</var>, « <var>data</var> »).</p>
    <li data-md>
     <p>Let <var>frameCopy</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer">StructuredDeserializeWithTransfer</a>(<var>serializedFrame</var>, <var>frame</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a>).</p>
    <li data-md>
     <p>Enqueue <var>frameCopy</var> for processing as if it came directly from the encoded data source, by running one of the following steps:</p>
     <ul>
      <li data-md>
       <p>If <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑤">RTCRtpSender</a></code>, enqueue <var>frameCopy</var> to <var>rtcObject</var>’s packetizer, to be processed <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
      <li data-md>
       <p>If <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑤">RTCRtpReceiver</a></code>, enqueue <var>frameCopy</var> it to <var>rtcObject</var>’s decoder, to be processed <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
     </ul>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with②">a promise resolved with</a> undefined.</p>
   </ol>
   <p>On sender side, as part of <a data-link-type="abstract-op" href="#abstract-opdef-readencodeddata" id="ref-for-abstract-opdef-readencodeddata①">readEncodedData</a>, frames produced by <var>rtcObject</var>’s encoder MUST be enqueued in <var>rtcObject</var>.<code>[[readable]]</code> in the encoder’s output order.
As <a data-link-type="abstract-op" href="#abstract-opdef-writeencodeddata" id="ref-for-abstract-opdef-writeencodeddata①">writeEncodedData</a> ensures that the transform cannot reorder frames, the encoder’s output order is also the order followed by packetizers to generate RTP packets and assign RTP packet sequence numbers.
The packetizer may expect the transformed data to still conform to the original format, e.g. a series of NAL units separated by Annex B start codes.</p>
   <p>On receiver side, as part of <a data-link-type="abstract-op" href="#abstract-opdef-readencodeddata" id="ref-for-abstract-opdef-readencodeddata②">readEncodedData</a>, frames produced by <var>rtcObject</var>’s packetizer MUST be enqueued in <var>rtcObject</var>.<code>[[readable]]</code> in the same encoder’s output order.
To ensure the order is respected, the depacketizer will typically use RTP packet sequence numbers to reorder RTP packets as needed before enqueuing frames in <var>rtcObject</var>.<code>[[readable]]</code>.
As <a data-link-type="abstract-op" href="#abstract-opdef-writeencodeddata" id="ref-for-abstract-opdef-writeencodeddata②">writeEncodedData</a> ensures that the transform cannot reorder frames, this will be the order expected by <var>rtcObject</var>’s decoder.</p>
   <h3 class="heading settled" data-level="2.2" id="attribute"><span class="secno">2.2. </span><span class="content">Extension attribute</span><a class="self-link" href="#attribute"></a></h3>
   <p>A RTCRtpTransform has private slots:</p>
   <ul>
    <li data-md>
     <p><code>[[readable]]</code> of type <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①">ReadableStream</a></code>.</p>
    <li data-md>
     <p><code>[[writable]]</code> of type <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream①">WritableStream</a></code>.</p>
    <li data-md>
     <p><code>[[owner]]</code> of type <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑥">RTCRtpSender</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑥">RTCRtpReceiver</a></code>, initialized to null.</p>
   </ul>
   <p>Each RTCRtpTransform has an <dfn class="dfn-paneled" data-dfn-for="RTCRtpTransform" data-dfn-type="abstract-op" data-export id="abstract-opdef-rtcrtptransform-association-steps">association steps</dfn> set, which is empty by default.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpSender,RTCRtpReceiver" data-dfn-type="attribute" data-export id="dom-rtcrtpsender-transform"><code>transform</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>.<code>[[transform]]</code>.</p>
   </ol>
   <p>The <code>transform</code> setter steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>transform</var> be the argument to the setter.</p>
    <li data-md>
     <p>Let <var>checkedTransform</var> set to <var>transform</var> if it is not null or to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream">identity transform stream</a> otherwise.</p>
    <li data-md>
     <p>If <var>checkedTransform</var>.<code>[[owner]]</code> is not null, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
    <li data-md>
     <p>Let <var>reader</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-get-a-reader" id="ref-for-readablestream-get-a-reader">getting a reader</a> for <var>checkedTransform</var>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Let <var>writer</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-get-a-writer" id="ref-for-writablestream-get-a-writer">getting a writer</a> for <var>checkedTransform</var>.<code>[[writable]]</code>.</p>
    <li data-md>
     <p>Set <var>checkedTransform</var>.<code>[[owner]]</code> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>.</p>
    <li data-md>
     <p>Initialize <var>newPipeToController</var> to a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code>.</p>
    <li data-md>
     <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>.<code>[[pipeToController]]</code> is not null, run the following steps:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">Add</a> the <a data-link-type="abstract-op" href="#abstract-opdef-chain-transform-algorithm" id="ref-for-abstract-opdef-chain-transform-algorithm">chain transform algorithm</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>.<code>[[pipeToController]]</code>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal①">signal</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort">signal abort</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>.<code>[[pipeToController]]</code>.</p>
     </ol>
    <li data-md>
     <p>Else, run the <a data-link-type="abstract-op" href="#abstract-opdef-chain-transform-algorithm" id="ref-for-abstract-opdef-chain-transform-algorithm①">chain transform algorithm</a> steps.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>.<code>[[pipeToController]]</code> to <var>newPipeToController</var>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>.<code>[[transform]]</code> to <var>transform</var>.</p>
    <li data-md>
     <p>Run the steps in the set of <a data-link-type="abstract-op" href="#abstract-opdef-rtcrtptransform-association-steps" id="ref-for-abstract-opdef-rtcrtptransform-association-steps">association steps</a> of <var>transform</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export id="abstract-opdef-chain-transform-algorithm">chain transform algorithm</dfn> steps are defined as:</p>
   <ol>
    <li data-md>
     <p>If <var>newPipeToController</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal②">signal</a> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, abort these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-release" id="ref-for-readablestreamdefaultreader-release">Release</a> <var>reader</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" id="ref-for-writablestreamdefaultwriter-release">Release</a> <var>writer</var>.</p>
    <li data-md>
     <p>Assert that <var>newPipeToController</var> is the same object as <var>rtcObject</var>.<code>[[pipeToController]]</code>.</p>
    <li data-md>
     <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <var>rtcObject</var>.<code>[[readable]]</code>, <var>checkedTransform</var>.<code>[[writable]]</code>, preventClose equal to false, preventAbort equal to false, preventCancel equal to true and <var>newPipeToController</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal③">signal</a>.</p>
    <li data-md>
     <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <var>checkedTransform</var>.<code>[[readable]]</code>, <var>rtcObject</var>.<code>[[writable]]</code>, preventClose equal to true, preventAbort equal to true, preventCancel equal to false and <var>newPipeToController</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal④">signal</a>.</p>
   </ol>
   <p>This algorithm is defined so that transforms can be updated dynamically.
There is no guarantee on which frame will happen the switch from the previous transform to the new transform.</p>
   <p>If a web application sets the transform synchronously at creation of the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑦">RTCRtpSender</a></code> (for instance when calling addTrack), the transform will receive the first frame generated by the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑧">RTCRtpSender</a></code>’s encoder.
Similarly, if a web application sets the transform synchronously at creation of the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑦">RTCRtpReceiver</a></code> (for instance when calling addTrack, or at track event handler), the transform will receive the first full frame generated by the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑧">RTCRtpReceiver</a></code>’s packetizer.</p>
   <h2 class="heading settled" data-level="3" id="sframe"><span class="secno">3. </span><span class="content">SFrameTransform</span><a class="self-link" href="#sframe"></a></h2>
   <p> The API presented in this section allows applications to process SFrame data as defined in <a data-link-type="biblio" href="#biblio-sframe" title="Secure Frame (SFrame)">[SFrame]</a>. </p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-sframetransformrole"><code><c- g>SFrameTransformRole</c-></code></dfn> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformRole" data-dfn-type="enum-value" data-export id="dom-sframetransformrole-encrypt"><code><c- s>"encrypt"</c-></code></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformRole" data-dfn-type="enum-value" data-export id="dom-sframetransformrole-decrypt"><code><c- s>"decrypt"</c-></code></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sframetransformoptions"><code><c- g>SFrameTransformOptions</c-></code></dfn> {
    <a data-link-type="idl-name" href="#enumdef-sframetransformrole" id="ref-for-enumdef-sframetransformrole"><c- n>SFrameTransformRole</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;encrypt&quot;" data-dfn-for="SFrameTransformOptions" data-dfn-type="dict-member" data-export data-type="SFrameTransformRole" id="dom-sframetransformoptions-role"><code><c- g>role</c-></code></dfn> = "encrypt";
};

<c- b>typedef</c-> [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-smallcryptokeyid"><code><c- g>SmallCryptoKeyID</c-></code></dfn>;
<c- b>typedef</c-> (<a data-link-type="idl-name" href="#typedefdef-smallcryptokeyid" id="ref-for-typedefdef-smallcryptokeyid"><c- n>SmallCryptoKeyID</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint"><c- b>bigint</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-cryptokeyid"><code><c- g>CryptoKeyID</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sframetransform"><code><c- g>SFrameTransform</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-sframetransform-sframetransform" id="ref-for-dom-sframetransform-sframetransform"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sframetransformoptions" id="ref-for-dictdef-sframetransformoptions"><c- n>SFrameTransformOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform/SFrameTransform(options), SFrameTransform/constructor(options), SFrameTransform/SFrameTransform(), SFrameTransform/constructor()" data-dfn-type="argument" data-export id="dom-sframetransform-sframetransform-options-options"><code><c- g>options</c-></code></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-sframetransform-setencryptionkey" id="ref-for-dom-sframetransform-setencryptionkey"><c- g>setEncryptionKey</c-></a>(<a data-link-type="idl-name" href="https://w3c.github.io/webcrypto/#dfn-CryptoKey" id="ref-for-dfn-CryptoKey"><c- n>CryptoKey</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform/setEncryptionKey(key, keyID), SFrameTransform/setEncryptionKey(key)" data-dfn-type="argument" data-export id="dom-sframetransform-setencryptionkey-key-keyid-key"><code><c- g>key</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform/setEncryptionKey(key, keyID), SFrameTransform/setEncryptionKey(key)" data-dfn-type="argument" data-export id="dom-sframetransform-setencryptionkey-key-keyid-keyid"><code><c- g>keyID</c-></code></dfn>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sframetransform-onerror"><code><c- g>onerror</c-></code></dfn>;
};
<a data-link-type="idl-name" href="#sframetransform" id="ref-for-sframetransform①"><c- n>SFrameTransform</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream" id="ref-for-generictransformstream"><c- n>GenericTransformStream</c-></a>;

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-sframetransformerroreventtype"><code><c- g>SFrameTransformErrorEventType</c-></code></dfn> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-authentication"><code><c- s>"authentication"</c-></code></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-keyid"><code><c- s>"keyID"</c-></code></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-syntax"><code><c- s>"syntax"</c-></code></dfn>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sframetransformerrorevent"><code><c- g>SFrameTransformErrorEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="constructor" data-export data-lt="SFrameTransformErrorEvent(type, eventInitDict)|constructor(type, eventInitDict)" id="dom-sframetransformerrorevent-sframetransformerrorevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent/SFrameTransformErrorEvent(type, eventInitDict), SFrameTransformErrorEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-sframetransformerroreventinit" id="ref-for-dictdef-sframetransformerroreventinit"><c- n>SFrameTransformErrorEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent/SFrameTransformErrorEvent(type, eventInitDict), SFrameTransformErrorEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn>);

    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype" id="ref-for-enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="SFrameTransformErrorEventType" id="dom-sframetransformerrorevent-errortype"><code><c- g>errorType</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid①"><c- n>CryptoKeyID</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="CryptoKeyID?" id="dom-sframetransformerrorevent-keyid"><code><c- g>keyID</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="any" id="dom-sframetransformerrorevent-frame"><code><c- g>frame</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sframetransformerroreventinit"><code><c- g>SFrameTransformErrorEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
    <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype" id="ref-for-enumdef-sframetransformerroreventtype①"><c- n>SFrameTransformErrorEventType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="SFrameTransformErrorEventType" id="dom-sframetransformerroreventinit-errortype"><code><c- g>errorType</c-></code></dfn>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="any" id="dom-sframetransformerroreventinit-frame"><code><c- g>frame</c-></code></dfn>;
    <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid②"><c- n>CryptoKeyID</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="CryptoKeyID?" id="dom-sframetransformerroreventinit-keyid"><code><c- g>keyID</c-></code></dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="constructor" data-export data-lt="SFrameTransform(options)|constructor(options)|SFrameTransform()|constructor()" id="dom-sframetransform-sframetransform"><code>new SFrameTransform(<var>options</var>)</code></dfn> constructor steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>transformAlgorithm</var> be an algorithm which takes a <var>frame</var> as input and runs the <a href="#sframe-transform-algorithm">SFrame transform algorithm</a> with <var>this</var> and <var>frame</var>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[transform]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstream" id="ref-for-transformstream">TransformStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up①">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>.<code>[[transform]]</code> with <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm" id="ref-for-transformstream-set-up-transformalgorithm">transformAlgorithm</a> set to <var>transformAlgorithm</var>.</p>
    <li data-md>
     <p>Let <var>options</var> be the method’s first argument.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[role]]</code> to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-sframetransformoptions-role" id="ref-for-dom-sframetransformoptions-role">role</a></code>"].</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[readable]]</code> to <var>this</var>.<code>[[transform]]</code>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[writable]]</code> to <var>this</var>.<code>[[transform]]</code>.<code>[[writable]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="3.1" id="sframe-transform-algorithm"><span class="secno">3.1. </span><span class="content">Algorithm</span><a class="self-link" href="#sframe-transform-algorithm"></a></h3>
   <p>The SFrame transform algorithm, given <var>sframe</var> as a SFrameTransform object and <var>frame</var>, runs these steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>role</var> be <var>sframe</var>.<code>[[role]]</code>.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑨">RTCRtpSender</a></code>, set <var>role</var> to 'encrypt'.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑨">RTCRtpReceiver</a></code>, set <var>role</var> to 'decrypt'.</p>
    <li data-md>
     <p>Let <var>data</var> be undefined.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource">BufferSource</a></code>, set <var>data</var> to <var>frame</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe">RTCEncodedAudioFrame</a></code>, set <var>data</var> to <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedaudioframe-data" id="ref-for-dom-rtcencodedaudioframe-data">data</a></code></p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe">RTCEncodedVideoFrame</a></code>, set <var>data</var> to <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-data" id="ref-for-dom-rtcencodedvideoframe-data">data</a></code></p>
    <li data-md>
     <p>If <var>data</var> is undefined, abort these steps.</p>
    <li data-md>
     <p>Let <var>buffer</var> be the result of running the SFrame algorithm with <var>data</var> and <var>role</var> as parameters. This algorithm is defined by the <a href="https://datatracker.ietf.org/doc/draft-omara-sframe/">SFrame specification</a> and returns an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>.</p>
    <li data-md>
     <p>If the SFrame algorithm exits abruptly with an error, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">queue a task</a> to run the following sub steps:</p>
     <ol>
      <li data-md>
       <p>If the processing fails on decryption side due to <var>data</var> not following the SFrame format, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-syntax" id="ref-for-dom-sframetransformerroreventtype-syntax">syntax</a></code> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame">frame</a></code> attribute set to <var>frame</var>.</p>
      <li data-md>
       <p>If the processing fails on decryption side due to the key identifier parsed in <var>data</var> being unknown, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror①">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent①">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype①">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-keyid" id="ref-for-dom-sframetransformerroreventtype-keyid">keyID</a></code>,
its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame①">frame</a></code> attribute set to <var>frame</var> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-keyid" id="ref-for-dom-sframetransformerrorevent-keyid">keyID</a></code> attribute set to the keyID value parsed in the SFrame header.</p>
      <li data-md>
       <p>If the processing fails on decryption side due to validation of the authentication tag, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror②">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent②">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype②">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-authentication" id="ref-for-dom-sframetransformerroreventtype-authentication">authentication</a></code> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame②">frame</a></code> attribute set to <var>frame</var>.</p>
      <li data-md>
       <p>Abort these steps.</p>
     </ol>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource①">BufferSource</a></code>, set <var>frame</var> to <var>buffer</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe①">RTCEncodedAudioFrame</a></code>, set <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedaudioframe-data" id="ref-for-dom-rtcencodedaudioframe-data①">data</a></code> to <var>buffer</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe①">RTCEncodedVideoFrame</a></code>, set <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-data" id="ref-for-dom-rtcencodedvideoframe-data①">data</a></code> to <var>buffer</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue①">Enqueue</a> <var>frame</var> in <var>sframe</var>.<code>[[transform]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="3.2" id="sframe-transform-methods"><span class="secno">3.2. </span><span class="content">Methods</span><a class="self-link" href="#sframe-transform-methods"></a></h3>
    The <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="method" data-export data-lt="setEncryptionKey(key, keyID)|setEncryptionKey(key)" id="dom-sframetransform-setencryptionkey"><code>setEncryptionKey(<var>key</var>, <var>keyID</var>)</code></dfn> method steps are: 
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
    <li data-md>
     <p>If <var>keyID</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint①">bigint</a></code> which cannot be represented as a integer between 0 and 2<sup>64</sup>-1 inclusive, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror">RangeError</a></code> exception.</p>
    <li data-md>
     <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Set <var>key</var> with its optional <var>keyID</var> as key material to use for the SFrame transform algorithm, as defined by the <a href="https://datatracker.ietf.org/doc/draft-omara-sframe/">SFrame specification</a>.</p>
      <li data-md>
       <p>If setting the key material fails, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidmodificationerror" id="ref-for-invalidmodificationerror">InvalidModificationError</a></code> exception and abort these steps.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with undefined.</p>
     </ol>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="4" id="scriptTransform"><span class="secno">4. </span><span class="content">RTCRtpScriptTransform</span><a class="self-link" href="#scriptTransform"></a></h2>
   <p>In this section, the capture system refers to the system where media is sourced from and the sender system
refers to the system that is sending RTP and RTCP packets to the receiver system where <code class="idl"><a data-link-type="idl" href="#dictdef-rtcencodedframemetadata" id="ref-for-dictdef-rtcencodedframemetadata">RTCEncodedFrameMetadata</a></code> data is populated.</p>
   <h3 class="heading settled" data-level="4.1" id="RTCEncodedFrameMetadata"><span class="secno">4.1. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedframemetadata"><code>RTCEncodedFrameMetadata</code></dfn> dictionary</span><a class="self-link" href="#RTCEncodedFrameMetadata"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedframemetadata" id="ref-for-dictdef-rtcencodedframemetadata①"><c- g>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-rtcencodedframemetadata-synchronizationsource" id="ref-for-dom-rtcencodedframemetadata-synchronizationsource"><c- g>synchronizationSource</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet"><c- b>octet</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="octet" href="#dom-rtcencodedframemetadata-payloadtype" id="ref-for-dom-rtcencodedframemetadata-payloadtype"><c- g>payloadType</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<unsigned long>" href="#dom-rtcencodedframemetadata-contributingsources" id="ref-for-dom-rtcencodedframemetadata-contributingsources"><c- g>contributingSources</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-rtcencodedframemetadata-rtptimestamp" id="ref-for-dom-rtcencodedframemetadata-rtptimestamp"><c- g>rtpTimestamp</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-receivetime" id="ref-for-dom-rtcencodedframemetadata-receivetime"><c- g>receiveTime</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-capturetime" id="ref-for-dom-rtcencodedframemetadata-capturetime"><c- g>captureTime</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-sendercapturetimeoffset" id="ref-for-dom-rtcencodedframemetadata-sendercapturetimeoffset"><c- g>senderCaptureTimeOffset</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-rtcencodedframemetadata-mimetype" id="ref-for-dom-rtcencodedframemetadata-mimetype"><c- g>mimeType</c-></a>;
};
</pre>
   <h4 class="heading settled" data-level="4.1.1" id="RTCEncodedFrameMetadata-members"><span class="secno">4.1.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedFrameMetadata-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-synchronizationsource"><code>synchronizationSource</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long③">unsigned long</a></span><span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The synchronization source (ssrc) identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> used to identify the stream of RTP packets that the encoded frame object is describing. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-payloadtype"><code>payloadType</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet①">octet</a></span><span class="idlMemberType">octet</span> 
    <dd>
     <p> The payload type is an unsigned integer value in the range from 0 to 127 per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that is used to describe the format of the RTP payload. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-contributingsources"><code>contributingSources</code></dfn>, <span> of type <code class="idl-code">sequence&lt;unsigned long></code></span><span class="idlMemberType">sequence&lt;unsigned long></span> 
    <dd>
     <p> The list of contribution sources (csrc list) as defined in <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a>. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-rtptimestamp"><code>rtpTimestamp</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long④">unsigned long</a></span><span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The RTP timestamp identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that reflects the sampling instant of the first octet in the RTP data packet. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-receivetime"><code>receiveTime</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp③">DOMHighResTimeStamp</a></span><span class="idlMemberType">DOMHighResTimeStamp</span> 
    <dd>
     <p> For frames coming from an RTCRtpReceiver, represents the timestamp
            of the last received packet used to produce this media frame. This
            timestamp is relative to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance" id="ref-for-dom-performance">Performance</a></code>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin">timeOrigin</a></code>. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-capturetime"><code>captureTime</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp④">DOMHighResTimeStamp</a></span><span class="idlMemberType">DOMHighResTimeStamp</span> 
    <dd>
     <p> The capture time of this frame in the capture system’s clock.
            On populating this member, the user agent MUST return the value of the frame’s <code>[[captureTime]]</code> slot,
            shifted to be relative to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance" id="ref-for-dom-performance①">Performance</a></code>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance-timeorigin" id="ref-for-dom-performance-timeorigin①">timeOrigin</a></code>. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-sendercapturetimeoffset"><code>senderCaptureTimeOffset</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp⑤">DOMHighResTimeStamp</a></span><span class="idlMemberType">DOMHighResTimeStamp</span> 
    <dd>
     <p> The <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedframemetadata-sendercapturetimeoffset" id="ref-for-dom-rtcencodedframemetadata-sendercapturetimeoffset①">senderCaptureTimeOffset</a></code> is the sender system’s estimate of the offset
            between its own NTP clock and the capture system’s NTP clock, for the same frame that the <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedframemetadata-capturetime" id="ref-for-dom-rtcencodedframemetadata-capturetime①">captureTime</a></code> was originated from.
            On populating this member, the user agent MUST return the value of the frame’s <code>[[senderCaptureTimeOffset]]</code> slot. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedframemetadata-mimetype"><code>mimeType</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②">DOMString</a></span><span class="idlMemberType">DOMString</span> 
    <dd>
     <p> The codec MIME media type/subtype defined in the IANA media types registry <a data-link-type="biblio" href="#biblio-iana-media-types" title="Media Types">[IANA-MEDIA-TYPES]</a>, e.g. audio/opus or video/VP8. </p>
   </dl>
   <h3 class="heading settled" data-level="4.2" id="RTCEncodedVideoFrameType"><span class="secno">4.2. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-rtcencodedvideoframetype"><code>RTCEncodedVideoFrameType</code></dfn> dictionary</span><a class="self-link" href="#RTCEncodedVideoFrameType"></a></h3>
<pre class="idl highlight def">// New enum for video frame types. Will eventually re-use the equivalent defined
// by WebCodecs.
<c- b>enum</c-> <a class="idl-code" data-link-type="enum" href="#enumdef-rtcencodedvideoframetype" id="ref-for-enumdef-rtcencodedvideoframetype"><c- g>RTCEncodedVideoFrameType</c-></a> {
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-empty" id="ref-for-dom-rtcencodedvideoframetype-empty"><c- s>"empty"</c-></a>,
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-key" id="ref-for-dom-rtcencodedvideoframetype-key"><c- s>"key"</c-></a>,
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-delta" id="ref-for-dom-rtcencodedvideoframetype-delta"><c- s>"delta"</c-></a>,
};
</pre>
   <table class="simple">
    <caption>Enumeration description</caption>
    <thead>
     <tr>
      <th>Enum value
      <th>Description
    <tbody>
     <tr>
      <td> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export data-lt="&quot;empty&quot;|empty" id="dom-rtcencodedvideoframetype-empty"><code>empty</code></dfn> 
      <td>
       <p> This frame contains no data. </p>
     <tr>
      <td> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export data-lt="&quot;key&quot;|key" id="dom-rtcencodedvideoframetype-key"><code>key</code></dfn> 
      <td>
       <p> This frame can be decoded without reference to any other frames. </p>
     <tr>
      <td> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export data-lt="&quot;delta&quot;|delta" id="dom-rtcencodedvideoframetype-delta"><code>delta</code></dfn> 
      <td>
       <p> This frame references another frame and can not be decoded without that frame. </p>
   </table>
   <h3 class="heading settled" data-level="4.3" id="RTCEncodedVideoFrameMetadata"><span class="secno">4.3. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedvideoframemetadata"><code>RTCEncodedVideoFrameMetadata</code></dfn> dictionary</span><a class="self-link" href="#RTCEncodedVideoFrameMetadata"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedvideoframemetadata" id="ref-for-dictdef-rtcencodedvideoframemetadata"><c- g>RTCEncodedVideoFrameMetadata</c-></a> : <a data-link-type="idl-name" href="#dictdef-rtcencodedframemetadata" id="ref-for-dictdef-rtcencodedframemetadata②"><c- n>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-rtcencodedvideoframemetadata-frameid" id="ref-for-dom-rtcencodedvideoframemetadata-frameid"><c- g>frameId</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<unsigned long long>" href="#dom-rtcencodedvideoframemetadata-dependencies" id="ref-for-dom-rtcencodedvideoframemetadata-dependencies"><c- g>dependencies</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned short" id="dom-rtcencodedvideoframemetadata-width"><code><c- g>width</c-></code></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned short" id="dom-rtcencodedvideoframemetadata-height"><code><c- g>height</c-></code></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long" id="dom-rtcencodedvideoframemetadata-spatialindex"><code><c- g>spatialIndex</c-></code></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑥"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long" id="dom-rtcencodedvideoframemetadata-temporalindex"><code><c- g>temporalIndex</c-></code></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="long long" href="#dom-rtcencodedvideoframemetadata-timestamp" id="ref-for-dom-rtcencodedvideoframemetadata-timestamp"><c- g>timestamp</c-></a>;    // microseconds
};
</pre>
   <h4 class="heading settled" data-level="4.3.1" id="RTCEncodedVideoFrameMetadata-members"><span class="secno">4.3.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedVideoFrameMetadata-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedvideoframemetadata-frameid"><code>frameId</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③">unsigned long long</a></span><span class="idlMemberType">unsigned long long</span> 
    <dd>
     <p> An identifier for the encoded frame, monotonically increasing in decode order. Its lower
            16 bits match the frame_number of the AV1 Dependency Descriptor Header Extension defined in Appendix A of <a data-link-type="biblio" href="#biblio-av1-rtp-spec" title="RTP Payload Format For AV1">[AV1-RTP-SPEC]</a>, if present.
            Only present for received frames if the Dependency Descriptor Header Extension is present. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedvideoframemetadata-dependencies"><code>dependencies</code></dfn>, <span> of type <code class="idl-code">sequence&lt;unsigned long long></code></span><span class="idlMemberType">sequence&lt;unsigned long long></span> 
    <dd>
     <p> List of frameIds of frames this frame references.
            Only present for received frames if the AV1 Dependency Descriptor Header Extension defined in Appendix A of <a data-link-type="biblio" href="#biblio-av1-rtp-spec" title="RTP Payload Format For AV1">[AV1-RTP-SPEC]</a> is present. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedvideoframemetadata-timestamp"><code>timestamp</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long①">long long</a></span><span class="idlMemberType">long long</span> 
    <dd>
     <p> The media presentation timestamp (PTS) in microseconds of raw frame, matching the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcodecs/#dom-videoframe-timestamp" id="ref-for-dom-videoframe-timestamp">timestamp</a></code> for raw frames which correspond to this frame. </p>
   </dl>
   <h3 class="heading settled" data-level="4.4" id="RTCEncodedVideoFrame-interface"><span class="secno">4.4. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcencodedvideoframe"><code>RTCEncodedVideoFrame</code></dfn> interface</span><a class="self-link" href="#RTCEncodedVideoFrame-interface"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedvideoframeoptions"><code><c- g>RTCEncodedVideoFrameOptions</c-></code></dfn> {
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata" id="ref-for-dictdef-rtcencodedvideoframemetadata①"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameOptions" data-dfn-type="dict-member" data-export data-type="RTCEncodedVideoFrameMetadata" id="dom-rtcencodedvideoframeoptions-metadata"><code><c- g>metadata</c-></code></dfn>;
};

// New interfaces to define encoded video and audio frames. Will eventually
// re-use or extend the equivalent defined in WebCodecs.
[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe②"><c- g>RTCEncodedVideoFrame</c-></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="constructor" data-export data-lt="RTCEncodedVideoFrame(originalFrame, options)|constructor(originalFrame, options)|RTCEncodedVideoFrame(originalFrame)|constructor(originalFrame)" id="dom-rtcencodedvideoframe-rtcencodedvideoframe"><code><c- g>constructor</c-></code></dfn>(<a data-link-type="idl-name" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe③"><c- n>RTCEncodedVideoFrame</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame/RTCEncodedVideoFrame(originalFrame, options), RTCEncodedVideoFrame/constructor(originalFrame, options), RTCEncodedVideoFrame/RTCEncodedVideoFrame(originalFrame), RTCEncodedVideoFrame/constructor(originalFrame)" data-dfn-type="argument" data-export id="dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-originalframe"><code><c- g>originalFrame</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframeoptions" id="ref-for-dictdef-rtcencodedvideoframeoptions"><c- n>RTCEncodedVideoFrameOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame/RTCEncodedVideoFrame(originalFrame, options), RTCEncodedVideoFrame/constructor(originalFrame, options), RTCEncodedVideoFrame/RTCEncodedVideoFrame(originalFrame), RTCEncodedVideoFrame/constructor(originalFrame)" data-dfn-type="argument" data-export id="dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-options"><code><c- g>options</c-></code></dfn> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rtcencodedvideoframetype" id="ref-for-enumdef-rtcencodedvideoframetype①"><c- n>RTCEncodedVideoFrameType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="RTCEncodedVideoFrameType" href="#dom-rtcencodedvideoframe-type" id="ref-for-dom-rtcencodedvideoframe-type"><c- g>type</c-></a>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①"><c- b>ArrayBuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-type="ArrayBuffer" href="#dom-rtcencodedvideoframe-data" id="ref-for-dom-rtcencodedvideoframe-data②"><c- g>data</c-></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata" id="ref-for-dictdef-rtcencodedvideoframemetadata②"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedvideoframe-getmetadata" id="ref-for-dom-rtcencodedvideoframe-getmetadata"><c- g>getMetadata</c-></a>();
};
</pre>
   <h4 class="heading settled" data-level="4.4.1" id="RTCEncodedVideoFrame-constructor"><span class="secno">4.4.1. </span><span class="content">Constructor</span><a class="self-link" href="#RTCEncodedVideoFrame-constructor"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="method" data-export id="dom-rtcencodedvideoframe-constructor"><code>constructor()</code></dfn> 
    <dd>
     <p> Creates a new <code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe④">RTCEncodedVideoFrame</a></code> from the given <var>originalFrame</var> and <var>options</var>.<code>[metadata]</code>. The newly created frame is completely independent of <var>originalFrame</var>, with its <code>[[data]]</code> being a deep copy of <var>originalFrame</var>.<code>[[data]]</code>.
            The new frame’s <code>[[metadata]]</code> is a deep copy of <var>originalFrame</var>.<code>[[metadata]]</code>, with
            fields replaced with deep copies of the fields present in <var>options</var>.<code>[metadata]</code>. </p>
     <p>When called, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Set this.<code>[[type]]</code> to <var>originalFrame</var>.<code>[[type]]</code>.</p>
      <li data-md>
       <p>Let this.<code>[[data]]</code> be the result of <a data-link-type="biblio" href="#biblio-clonearraybuffer" title="CloneArrayBuffer">[CloneArrayBuffer]</a>(<var>originalFrame</var>.<code>[[data]]</code>, 0, <var>originalFrame</var>.<code>[[data]]</code>.<code>[[ArrayBufferByteLength]]</code>).</p>
      <li data-md>
       <p>Let <code>[[metadata]]</code> represent the metadata associated with this newly constructed frame.</p>
       <ol>
        <li data-md>
         <p>For each {<code>[[key]]</code>,<code>[[value]]</code>} pair of <var>originalFrame</var>.<code>[[getMetadata()]]</code>, set <code>[[metadata]]</code>.<code>[[key]]</code> to a deep copy of <code>[[value]]</code>.</p>
        <li data-md>
         <p>For each {<code>[[key]]</code>,<code>[[value]]</code>} pair of <var>options</var>.<code>[metadata]</code>, set <code>[[metadata]]</code>.<code>[[key]]</code> to a deep copy of <code>[[value]]</code>.</p>
       </ol>
     </ol>
     <p></p>
   </dl>
   <h4 class="heading settled" data-level="4.4.2" id="RTCEncodedVideoFrame-members"><span class="secno">4.4.2. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedVideoFrame-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="attribute" data-export id="dom-rtcencodedvideoframe-type"><code>type</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-rtcencodedvideoframetype" id="ref-for-enumdef-rtcencodedvideoframetype②">RTCEncodedVideoFrameType</a>, readonly</span><span class="idlMemberType">RTCEncodedVideoFrameType</span> 
    <dd>
     <p> The type attribute allows the application to determine when a key frame is being
            sent or received. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="attribute" data-export id="dom-rtcencodedvideoframe-data"><code>data</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②">ArrayBuffer</a></span><span class="idlMemberType">ArrayBuffer</span> 
    <dd>
     <p> The encoded frame data. The format of the data depends on the video codec that is
            used to encode/decode the frame which can be determined by looking at the <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedframemetadata-mimetype" id="ref-for-dom-rtcencodedframemetadata-mimetype①">mimeType</a></code>.
            For <a href="https://w3c.github.io/webrtc-svc/">SVC</a>, each spatial layer
            is transformed separately. </p>
     <p class="note" role="note"> Since packetizers may drop certain elements, e.g. AV1 temporal delimiter OBUs,
              the input to a receive-side transform may be different from the output of
              a send-side transform. </p>
     <p> The following table gives a number of examples: </p>
     <table class="simple">
      <thead>
       <tr>
        <th>mimeType
        <th>Data format
      <tbody>
       <tr>
        <td> video/VP8 
        <td> The data starts with the "uncompressed data chunk" defined in <a href="https://datatracker.ietf.org/doc/html/rfc6386#section-9.1"> section 9.1</a> of <a data-link-type="biblio" href="#biblio-rfc6386" title="VP8 Data Format and Decoding Guide">[RFC6386]</a> and is followed by the rest of the
                        frame data. The <a href="https://www.rfc-editor.org/rfc/rfc7741#section-4.1"> VP8 payload descriptor</a> is not accessible. 
       <tr>
        <td> video/VP9 
        <td> The data is a frame as described in Section 6 of <a data-link-type="biblio" href="#biblio-vp9" title="VP9 Bitstream &amp; Decoding Process Specification">[VP9]</a>.
                        The <a href="https://datatracker.ietf.org/doc/html/draft-ietf-payload-vp9#section-4.2"> VP9 payload descriptor</a> is not accessible. 
       <tr>
        <td> video/H264 
        <td> The data is a series of NAL units in Annex B format,
                        as defined in <a data-link-type="biblio" href="#biblio-itu-t-rec-h264" title="H.264 : Advanced video coding for generic audiovisual services">[ITU-T-REC-H.264]</a> Annex B. 
       <tr>
        <td> video/AV1 
        <td> The data is a series of OBUs compliant to the <a href="https://aomediacodec.github.io/av1-spec/#low-overhead-bitstream-format"> low-overhead bitstream format</a> as described in Section 5 of <a data-link-type="biblio" href="#biblio-av1" title="AV1 Bitstream &amp; Decoding Process Specification">[AV1]</a>.
                        The <a href="https://aomediacodec.github.io/av1-rtp-spec/#aggregation-header"> AV1 aggregation header</a> is not accessible. 
     </table>
   </dl>
   <h4 class="heading settled" data-level="4.4.3" id="RTCEncodedVideoFrame-methods"><span class="secno">4.4.3. </span><span class="content">Methods</span><a class="self-link" href="#RTCEncodedVideoFrame-methods"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="method" data-export id="dom-rtcencodedvideoframe-getmetadata"><code>getMetadata()</code></dfn> 
    <dd>
     <p> Returns the metadata associated with the frame. </p>
   </dl>
   <h4 class="heading settled" data-level="4.4.4" id="RTCEncodedVideoFrame-serialization"><span class="secno">4.4.4. </span><span class="content">Serialization</span><a class="self-link" href="#RTCEncodedVideoFrame-serialization"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe" id="ref-for-rtcencodedvideoframe⑤">RTCEncodedVideoFrame</a></code> objects are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" id="ref-for-serializable-objects">serializable objects</a>.
Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" id="ref-for-serialization-steps">serialization steps</a>, given <var>value</var>, <var>serialized</var>, and <var>forStorage</var>, are:</p>
   <ol>
    <li data-md>
     <p>If <var>forStorage</var> is true, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror">DataCloneError</a></code>.</p>
    <li data-md>
     <p>Set <var>serialized</var>.<code>[[type]]</code> to the value of <var>value</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-type" id="ref-for-dom-rtcencodedvideoframe-type①">type</a></code>.</p>
    <li data-md>
     <p>Set <var>serialized</var>.<code>[[metadata]]</code> to an internal representation of <var>value</var>’s metadata.</p>
    <li data-md>
     <p>Set <var>serialized</var>.<code>[[data]]</code> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#sub-serialization" id="ref-for-sub-serialization">sub-serialization</a> of <var>value</var>.<code>[[data]]</code>.</p>
   </ol>
   <p>Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" id="ref-for-deserialization-steps">deserialization steps</a>, given <var>serialized</var>, <var>value</var> and <var>realm</var>, are:</p>
   <ol>
    <li data-md>
     <p>Set <var>value</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-type" id="ref-for-dom-rtcencodedvideoframe-type②">type</a></code> to <var>serialized</var>.<code>[[type]]</code>.</p>
    <li data-md>
     <p>Set <var>value</var>’s metadata to the platform object representation of <var>serialized</var>.<code>[[metadata]]</code>.</p>
    <li data-md>
     <p>Set <var>value</var>.<code>[[data]]</code> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#sub-deserialization" id="ref-for-sub-deserialization">sub-deserialization</a> of <var>serialized</var>.<code>[[data]]</code>.</p>
   </ol>
   <p class="note" role="note"> The internal form of a serialized RTCEncodedVideoFrame is not observable;
it is defined chiefly so that it can be used with frame cloning in the <a data-link-type="abstract-op" href="#abstract-opdef-writeencodeddata" id="ref-for-abstract-opdef-writeencodeddata③">writeEncodedData</a> algorithm and in the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone" id="ref-for-dom-structuredclone">structuredClone()</a></code> operation.
An implementation is therefore free to choose whatever method works best. </p>
   <h3 class="heading settled" data-level="4.5" id="RTCEncodedAudioFrameMetadata"><span class="secno">4.5. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedaudioframemetadata"><code>RTCEncodedAudioFrameMetadata</code></dfn> dictionary</span><a class="self-link" href="#RTCEncodedAudioFrameMetadata"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedaudioframemetadata" id="ref-for-dictdef-rtcencodedaudioframemetadata"><c- g>RTCEncodedAudioFrameMetadata</c-></a> : <a data-link-type="idl-name" href="#dictdef-rtcencodedframemetadata" id="ref-for-dictdef-rtcencodedframemetadata③"><c- n>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-short" id="ref-for-idl-short"><c- b>short</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="short" href="#dom-rtcencodedaudioframemetadata-sequencenumber" id="ref-for-dom-rtcencodedaudioframemetadata-sequencenumber"><c- g>sequenceNumber</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="double" href="#dom-rtcencodedaudioframemetadata-audiolevel" id="ref-for-dom-rtcencodedaudioframemetadata-audiolevel"><c- g>audioLevel</c-></a>;
};
</pre>
   <h4 class="heading settled" data-level="4.5.1" id="RTCEncodedAudioFrameMetadata-members"><span class="secno">4.5.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedAudioFrameMetadata-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedaudioframemetadata-sequencenumber"><code>sequenceNumber</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-short" id="ref-for-idl-short①">short</a></span><span class="idlMemberType">short</span> 
    <dd>
     <p> The RTP sequence number as defined in <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a>. Only exists for incoming audio frames. </p>
     <p class="note" role="note"> Comparing two sequence numbers requires serial number arithmetic described in <a data-link-type="biblio" href="#biblio-rfc1982" title="Serial Number Arithmetic">[RFC1982]</a>. </p>
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dict-member" data-export id="dom-rtcencodedaudioframemetadata-audiolevel"><code>audioLevel</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①">double</a></span><span class="idlMemberType">double</span> 
    <dd>
     <p> The audio level of this frame. The value is between 0..1 (linear), 
            where 1.0 represents 0 dBov, 0 represents silence, and 0.5 represents
            approximately 6 dBSPL change in the sound pressure level from 0 dBov. </p>
     <p>If the frame comes from a remotely sourced track, this MUST be
            converted from the level value defined in <a data-link-type="biblio" href="#biblio-rfc6464" title="A Real-time Transport Protocol (RTP) Header Extension for Client-to-Mixer Audio Level Indication">[RFC6464]</a>. If the <a data-link-type="biblio" href="#biblio-rfc6464" title="A Real-time Transport Protocol (RTP) Header Extension for Client-to-Mixer Audio Level Indication">[RFC6464]</a> header extension is not present in the received packets of the frame,
            this value MUST be absent.
            This RFC defines the audio level as an integral value from 0 to 127
            representing the audio level in negative decibels relative to the
            loudest signal that the system could possibly encode. Thus, 0
            represents the loudest signal the system could possibly encode,
            and 127 represents silence. To convert these values to the linear
            0..1 range, a value of 127 is converted to 0, and all other values
            are converted using the equation: <code class="math">10^(-rfc_level/20)</code>.</p>
     <p>If the frame comes from a locally sourced track, the level MUST be
            taken directly from the source and used as input to generate a value
            for the <a data-link-type="biblio" href="#biblio-rfc6464" title="A Real-time Transport Protocol (RTP) Header Extension for Client-to-Mixer Audio Level Indication">[RFC6464]</a> header extension, if negotiated.</p>
     <p></p>
   </dl>
   <h3 class="heading settled" data-level="4.6" id="RTCEncodedAudioFrame-interface"><span class="secno">4.6. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcencodedaudioframe"><code>RTCEncodedAudioFrame</code></dfn> interface</span><a class="self-link" href="#RTCEncodedAudioFrame-interface"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedaudioframeoptions"><code><c- g>RTCEncodedAudioFrameOptions</c-></code></dfn> {
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata" id="ref-for-dictdef-rtcencodedaudioframemetadata①"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrameOptions" data-dfn-type="dict-member" data-export data-type="RTCEncodedAudioFrameMetadata" id="dom-rtcencodedaudioframeoptions-metadata"><code><c- g>metadata</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable①"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe②"><c- g>RTCEncodedAudioFrame</c-></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="constructor" data-export data-lt="RTCEncodedAudioFrame(originalFrame, options)|constructor(originalFrame, options)|RTCEncodedAudioFrame(originalFrame)|constructor(originalFrame)" id="dom-rtcencodedaudioframe-rtcencodedaudioframe"><code><c- g>constructor</c-></code></dfn>(<a data-link-type="idl-name" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe③"><c- n>RTCEncodedAudioFrame</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame/RTCEncodedAudioFrame(originalFrame, options), RTCEncodedAudioFrame/constructor(originalFrame, options), RTCEncodedAudioFrame/RTCEncodedAudioFrame(originalFrame), RTCEncodedAudioFrame/constructor(originalFrame)" data-dfn-type="argument" data-export id="dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-originalframe"><code><c- g>originalFrame</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframeoptions" id="ref-for-dictdef-rtcencodedaudioframeoptions"><c- n>RTCEncodedAudioFrameOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame/RTCEncodedAudioFrame(originalFrame, options), RTCEncodedAudioFrame/constructor(originalFrame, options), RTCEncodedAudioFrame/RTCEncodedAudioFrame(originalFrame), RTCEncodedAudioFrame/constructor(originalFrame)" data-dfn-type="argument" data-export id="dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-options"><code><c- g>options</c-></code></dfn> = {});
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer③"><c- b>ArrayBuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-type="ArrayBuffer" href="#dom-rtcencodedaudioframe-data" id="ref-for-dom-rtcencodedaudioframe-data②"><c- g>data</c-></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata" id="ref-for-dictdef-rtcencodedaudioframemetadata②"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedaudioframe-getmetadata" id="ref-for-dom-rtcencodedaudioframe-getmetadata"><c- g>getMetadata</c-></a>();
};
</pre>
   <h4 class="heading settled" data-level="4.6.1" id="RTCEncodedAudioFrame-constructor"><span class="secno">4.6.1. </span><span class="content">Constructor</span><a class="self-link" href="#RTCEncodedAudioFrame-constructor"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="method" data-export id="dom-rtcencodedaudioframe-constructor"><code>constructor()</code></dfn> 
    <dd>
     <p> Creates a new <code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe④">RTCEncodedAudioFrame</a></code> from the given <var>originalFrame</var> and <var>options</var>.<code>[metadata]</code>. The newly created frame is completely independent of <var>originalFrame</var>, with its <code>[[data]]</code> being a deep copy of <var>originalFrame</var>.<code>[[data]]</code>.
            The new frame’s <code>[[metadata]]</code> is a deep copy of <var>originalFrame</var>.<code>[[metadata]]</code>, with
            fields replaced with deep copies of the fields present in <var>options</var>.<code>[metadata]</code>. </p>
     <p>When called, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let this.<code>[[data]]</code> be the result of <a data-link-type="biblio" href="#biblio-clonearraybuffer" title="CloneArrayBuffer">[CloneArrayBuffer]</a>(<var>originalFrame</var>.<code>[[data]]</code>, 0, <var>originalFrame</var>.<code>[[data]]</code>.<code>[[ArrayBufferByteLength]]</code>).</p>
      <li data-md>
       <p>Let <code>[[metadata]]</code> represent the metadata associated with this newly constructed frame.</p>
       <ol>
        <li data-md>
         <p>For each {<code>[[key]]</code>,<code>[[value]]</code>} pair of <var>originalFrame</var>.<code>[[getMetadata()]]</code>, set <code>[[metadata]]</code>.<code>[[key]]</code> to a deep copy of <code>[[value]]</code>.</p>
        <li data-md>
         <p>For each {<code>[[key]]</code>,<code>[[value]]</code>} pair of <var>options</var>.<code>[metadata]</code>, set <code>[[metadata]]</code>.<code>[[key]]</code> to a deep copy of <code>[[value]]</code>.</p>
       </ol>
     </ol>
     <p></p>
   </dl>
   <h4 class="heading settled" data-level="4.6.2" id="RTCEncodedAudioFrame-members"><span class="secno">4.6.2. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedAudioFrame-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="attribute" data-export id="dom-rtcencodedaudioframe-data"><code>data</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer④">ArrayBuffer</a></span><span class="idlMemberType">ArrayBuffer</span> 
    <dd>
     <p> The encoded frame data. The format of the data depends on the audio codec that is
            used to encode/decode the frame which can be determined by looking at the <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedframemetadata-mimetype" id="ref-for-dom-rtcencodedframemetadata-mimetype②">mimeType</a></code>.
            The following table gives a number of examples: </p>
     <table class="simple">
      <thead>
       <tr>
        <th>mimeType
        <th>Data format
      <tbody>
       <tr>
        <td> audio/opus 
        <td> The data is Opus packets, as described in <a href="https://datatracker.ietf.org/doc/html/rfc6716#section-3"> section 3</a> of <a data-link-type="biblio" href="#biblio-rfc6716" title="Definition of the Opus Audio Codec">[RFC6716]</a>. 
       <tr>
        <td> audio/PCMU 
        <td> The data is a sequence of bytes of arbitrary length, where each byte is a u-law
                        encoded PCM sample as defined by Table 2a and 2b in <a data-link-type="biblio" href="#biblio-itu-g711" title="G.711 : Pulse code modulation (PCM) of voice frequencies">[ITU-G.711]</a>. 
       <tr>
        <td> audio/PCMA 
        <td> The data is a sequence of bytes of arbitrary length, where each byte is
                        an A-law encoded PCM sample as defined by Tables 1a and 1b in <a data-link-type="biblio" href="#biblio-itu-g711" title="G.711 : Pulse code modulation (PCM) of voice frequencies">[ITU-G.711]</a>. 
       <tr>
        <td> audio/G722 
        <td> The data is G.722 audio as described in <a data-link-type="biblio" href="#biblio-itu-g722" title="G.722 : 7 kHz audio-coding within 64 kbit/s">[ITU-G.722]</a>. 
       <tr>
        <td> audio/RED 
        <td> The data is Redundant Audio Data as described in <a href="https://www.rfc-editor.org/rfc/rfc2198#section-3"> section 3</a> of <a data-link-type="biblio" href="#biblio-rfc2198" title="RTP Payload for Redundant Audio Data">[RFC2198]</a>. 
       <tr>
        <td> audio/CN 
        <td> The data is Comfort Noise as described in <a href="https://www.rfc-editor.org/rfc/rfc3389#section-3"> section 3</a> of <a data-link-type="biblio" href="#biblio-rfc3389" title="Real-time Transport Protocol (RTP) Payload for Comfort Noise (CN)">[RFC3389]</a>. 
     </table>
   </dl>
   <h4 class="heading settled" data-level="4.6.3" id="RTCEncodedAudioFrame-methods"><span class="secno">4.6.3. </span><span class="content">Methods</span><a class="self-link" href="#RTCEncodedAudioFrame-methods"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="method" data-export id="dom-rtcencodedaudioframe-getmetadata"><code>getMetadata()</code></dfn> 
    <dd>
     <p> Returns the metadata associated with the frame. </p>
   </dl>
   <h4 class="heading settled" data-level="4.6.4" id="RTCEncodedAudioFrame-serialization"><span class="secno">4.6.4. </span><span class="content">Serialization</span><a class="self-link" href="#RTCEncodedAudioFrame-serialization"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe" id="ref-for-rtcencodedaudioframe⑤">RTCEncodedAudioFrame</a></code> objects are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" id="ref-for-serializable-objects①">serializable objects</a>.
Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" id="ref-for-serialization-steps①">serialization steps</a>, given <var>value</var>, <var>serialized</var>, and <var>forStorage</var>, are:</p>
   <ol>
    <li data-md>
     <p>If <var>forStorage</var> is true, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror①">DataCloneError</a></code>.</p>
    <li data-md>
     <p>Set <var>serialized</var>.<code>[[metadata]]</code> to an internal representation of <var>value</var>’s metadata.</p>
    <li data-md>
     <p>Set <var>serialized</var>.<code>[[data]]</code> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#sub-serialization" id="ref-for-sub-serialization①">sub-serialization</a> of <var>value</var>.<code>[[data]]</code>.</p>
   </ol>
   <p>Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" id="ref-for-deserialization-steps①">deserialization steps</a>, given <var>serialized</var>, <var>value</var> and <var>realm</var>, are:</p>
   <ol>
    <li data-md>
     <p>Set <var>value</var>’s metadata to the platform object representation of <var>serialized</var>.<code>[[metadata]]</code></p>
    <li data-md>
     <p>Set <var>value</var>.<code>[[data]]</code> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#sub-deserialization" id="ref-for-sub-deserialization①">sub-deserialization</a> of <var>serialized</var>.<code>[[data]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.7" id="RTCRtpScriptTransformer-interfaces"><span class="secno">4.7. </span><span class="content">Interfaces</span><a class="self-link" href="#RTCRtpScriptTransformer-interfaces"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtctransformevent"><code><c- g>RTCTransformEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer"><c- n>RTCRtpScriptTransformer</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCTransformEvent" data-dfn-type="attribute" data-export data-readonly data-type="RTCRtpScriptTransformer" id="dom-rtctransformevent-transformer"><code><c- g>transformer</c-></code></dfn>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope"><c- g>DedicatedWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="DedicatedWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-dedicatedworkerglobalscope-onrtctransform"><code><c- g>onrtctransform</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcrtpscripttransformer"><code><c- g>RTCRtpScriptTransformer</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
    // Attributes and methods related to the transformer source
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②"><c- n>ReadableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export data-readonly data-type="ReadableStream" id="dom-rtcrtpscripttransformer-readable"><code><c- g>readable</c-></code></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="method" data-export data-lt="generateKeyFrame(rid)|generateKeyFrame()" id="dom-rtcrtpscripttransformer-generatekeyframe"><code><c- g>generateKeyFrame</c-></code></dfn>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer/generateKeyFrame(rid), RTCRtpScriptTransformer/generateKeyFrame()" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"><code><c- g>rid</c-></code></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="method" data-export data-lt="sendKeyFrameRequest()" id="dom-rtcrtpscripttransformer-sendkeyframerequest"><code><c- g>sendKeyFrameRequest</c-></code></dfn>();
    // Attributes and methods related to the transformer sink
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream②"><c- n>WritableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export data-readonly data-type="WritableStream" id="dom-rtcrtpscripttransformer-writable"><code><c- g>writable</c-></code></dfn>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-rtcrtpscripttransformer-onkeyframerequest"><code><c- g>onkeyframerequest</c-></code></dfn>;
    // Attributes for configuring the Javascript code
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-rtcrtpscripttransformer-options" id="ref-for-dom-rtcrtpscripttransformer-options"><c- g>options</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑥"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcrtpscripttransform"><code><c- g>RTCRtpScriptTransform</c-></code></dfn> {
    <a class="idl-code" data-link-type="constructor" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform" id="ref-for-dom-rtcrtpscripttransform-rtcrtpscripttransform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker"><c- n>Worker</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"><code><c- g>worker</c-></code></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"><code><c- g>options</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"><code><c- g>transfer</c-></code></dfn>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑦"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="keyframerequestevent"><code><c- g>KeyFrameRequestEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="KeyFrameRequestEvent" data-dfn-type="constructor" data-export data-lt="KeyFrameRequestEvent(type, rid)|constructor(type, rid)|KeyFrameRequestEvent(type)|constructor(type)" id="dom-keyframerequestevent-keyframerequestevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="KeyFrameRequestEvent/KeyFrameRequestEvent(type, rid), KeyFrameRequestEvent/constructor(type, rid), KeyFrameRequestEvent/KeyFrameRequestEvent(type), KeyFrameRequestEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-keyframerequestevent-keyframerequestevent-type-rid-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="KeyFrameRequestEvent/KeyFrameRequestEvent(type, rid), KeyFrameRequestEvent/constructor(type, rid), KeyFrameRequestEvent/KeyFrameRequestEvent(type), KeyFrameRequestEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-keyframerequestevent-keyframerequestevent-type-rid-rid"><code><c- g>rid</c-></code></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="KeyFrameRequestEvent" data-dfn-type="attribute" data-export data-readonly data-type="DOMString?" id="dom-keyframerequestevent-rid"><code><c- g>rid</c-></code></dfn>;
};
</pre>
   <h3 class="heading settled" data-level="4.8" id="RTCRtpScriptTransform-operations"><span class="secno">4.8. </span><span class="content">Operations</span><a class="self-link" href="#RTCRtpScriptTransform-operations"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="constructor" data-export data-lt="RTCRtpScriptTransform(worker, options, transfer)|constructor(worker, options, transfer)|RTCRtpScriptTransform(worker, options)|constructor(worker, options)|RTCRtpScriptTransform(worker)|constructor(worker)" id="dom-rtcrtpscripttransform-rtcrtpscripttransform"><code>new RTCRtpScriptTransform(<var>worker</var>, <var>options</var>, <var>transfer</var>)</code></dfn> constructor steps are:</p>
   <ol>
    <li data-md>
     <p>Set <var>t1</var> to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream①">identity transform stream</a>.</p>
    <li data-md>
     <p>Set <var>t2</var> to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream②">identity transform stream</a>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[writable]]</code> to <var>t1</var>.<code>[[writable]]</code>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[readable]]</code> to <var>t2</var>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Let <var>serializedOptions</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer①">StructuredSerializeWithTransfer</a>(<var>options</var>, <var>transfer</var>).</p>
    <li data-md>
     <p>Let <var>serializedReadable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer②">StructuredSerializeWithTransfer</a>(<var>t1</var>.<code>[[readable]]</code>, « <var>t1</var>.<code>[[readable]]</code> »).</p>
    <li data-md>
     <p>Let <var>serializedWritable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer③">StructuredSerializeWithTransfer</a>(<var>t2</var>.<code>[[writable]]</code>, « <var>t2</var>.<code>[[writable]]</code> »).</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> on the DOM manipulation <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a> <var>worker</var>’s global scope to run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transformerOptions</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer①">StructuredDeserializeWithTransfer</a>(<var>serializedOptions</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>readable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer②">StructuredDeserializeWithTransfer</a>(<var>serializedReadable</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>writable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer③">StructuredDeserializeWithTransfer</a>(<var>serializedWritable</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>transformer</var> be a new <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer①">RTCRtpScriptTransformer</a></code>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[options]]</code> to <var>transformerOptions</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[readable]]</code> to <var>readable</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[writable]]</code> to <var>writable</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">Fire an event</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="DedicatedWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-dedicatedworkerglobalscope-rtctransform"><code>rtctransform</code></dfn> using <code class="idl"><a data-link-type="idl" href="#rtctransformevent" id="ref-for-rtctransformevent">RTCTransformEvent</a></code> with <code class="idl"><a data-link-type="idl" href="#dom-rtctransformevent-transformer" id="ref-for-dom-rtctransformevent-transformer">transformer</a></code> set to <var>transformer</var> on <var>worker</var>’s global scope.</p>
     </ol>
   </ol>
   <p>// FIXME: Describe error handling (worker closing flag true at RTCRtpScriptTransform creation time. And worker being terminated while transform is processing data).</p>
   <p>Each RTCRtpScriptTransform has the following set of <a data-link-type="abstract-op" href="#abstract-opdef-rtcrtptransform-association-steps" id="ref-for-abstract-opdef-rtcrtptransform-association-steps①">association steps</a>, given <var>rtcObject</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>transform</var> be the <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform①">RTCRtpScriptTransform</a></code> object that owns the <a data-link-type="abstract-op" href="#abstract-opdef-rtcrtptransform-association-steps" id="ref-for-abstract-opdef-rtcrtptransform-association-steps②">association steps</a>.</p>
    <li data-md>
     <p>Let <var>encoder</var> be <var>rtcObject</var>’s encoder if <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①⓪">RTCRtpSender</a></code> or undefined otherwise.</p>
    <li data-md>
     <p>Let <var>depacketizer</var> be <var>rtcObject</var>’s depacketizer if <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver①⓪">RTCRtpReceiver</a></code> or undefined otherwise.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③">Queue a task</a> on the DOM manipulation <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source①">task source</a> <var>worker</var>’s global scope to run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transformer</var> be the <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer②">RTCRtpScriptTransformer</a></code> object associated to <var>transform</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[encoder]]</code> to <var>encoder</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[depacketizer]]</code> to <var>depacketizer</var>.</p>
     </ol>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="method" data-export id="dom-rtcrtpscripttransform-generatekeyframe"><code>generateKeyFrame(<var>rid</var>)</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p>Run the <a data-link-type="abstract-op" href="#abstract-opdef-generate-key-frame-algorithm" id="ref-for-abstract-opdef-generate-key-frame-algorithm">generate key frame algorithm</a> with <var>promise</var>, <var>this</var>.<code>[[encoder]]</code> and <var>rid</var>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="method" data-export id="dom-rtcrtpscripttransform-sendkeyframerequest"><code>sendKeyFrameRequest()</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p>Run the <a data-link-type="abstract-op" href="#abstract-opdef-send-request-key-frame-algorithm" id="ref-for-abstract-opdef-send-request-key-frame-algorithm">send request key frame algorithm</a> with <var>promise</var> and <var>this</var>.<code>[[depacketizer]]</code>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.9" id="RTCRtpScriptTransformer-attributes"><span class="secno">4.9. </span><span class="content">Attributes</span><a class="self-link" href="#RTCRtpScriptTransformer-attributes"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer③">RTCRtpScriptTransformer</a></code> has the following private slots called <code>[[depacketizer]]</code>, <code>[[encoder]]</code>, <code>[[options]]</code>, <code>[[readable]]</code> and <code>[[writable]]</code>.
In addition, a <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer④">RTCRtpScriptTransformer</a></code> is always associated with its parent <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform②">RTCRtpScriptTransform</a></code> transform.
This allows algorithms to go from an <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑤">RTCRtpScriptTransformer</a></code> object to its <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform③">RTCRtpScriptTransform</a></code> parent and vice versa.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransformer-options"><code>options</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>.<code>[[options]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransform-readable"><code>readable</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">this</a>.<code>[[readable]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransform-writable"><code>writable</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">this</a>.<code>[[writable]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransform-onbandwidthestimate"><code>onbandwidthestimate</code></dfn> EventHandler has type bandwidthestimate.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransform-onkeyframerequest"><code>onkeyframerequest</code></dfn> EventHandler has type keyframerequest.</p>
   <h3 class="heading settled" data-level="4.10" id="RTCRtpScriptTransformer-events"><span class="secno">4.10. </span><span class="content">Events</span><a class="self-link" href="#RTCRtpScriptTransformer-events"></a></h3>
   <p>The following event fires on an <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑥">RTCRtpScriptTransformer</a></code>:</p>
   <ul>
    <li data-md>
     <p>keyframerequest of type <code class="idl"><a data-link-type="idl" href="#keyframerequestevent" id="ref-for-keyframerequestevent">KeyFrameRequestEvent</a></code> - fired when the sink determines that a key frame has been requested.</p>
   </ul>
   <p>The steps that generate an event of type <code class="idl"><a data-link-type="idl" href="#keyframerequestevent" id="ref-for-keyframerequestevent①">KeyFrameRequestEvent</a></code> are as follows:</p>
   <p>Given a <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑦">RTCRtpScriptTransformer</a></code> <var>transform</var>:</p>
   <p>When <var>transform</var>’s <code>[[encoder]]</code> receives a keyframe request, for instance from an incoming RTCP Picture Loss Indication (PLI)
or Full Intra Refresh (FIR), queue a task to perform the following steps:</p>
   <ol>
    <li data-md>
     <p>Set <var>rid</var> to the RID of the appropriate layer, or undefined if the request is not for a specific layer.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire④">Fire an event</a> named <code>keyframerequest</code> at <var>transform</var> using <code class="idl"><a data-link-type="idl" href="#keyframerequestevent" id="ref-for-keyframerequestevent②">KeyFrameRequestEvent</a></code> with its <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code> attribute initialized to "true", and with <code class="idl"><a data-link-type="idl" href="#dom-keyframerequestevent-rid" id="ref-for-dom-keyframerequestevent-rid">rid</a></code> set to <var>rid</var>.</p>
    <li data-md>
     <p>If the event’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag">canceled flag</a> is true, abort these steps.</p>
    <li data-md>
     <p>Run the <a data-link-type="abstract-op" href="#abstract-opdef-generate-key-frame-algorithm" id="ref-for-abstract-opdef-generate-key-frame-algorithm①">generate key frame algorithm</a> with a new promise, <var>transform</var>.<code>[[encoder]]</code> and <var>rid</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.11" id="KeyFrame-algorithms"><span class="secno">4.11. </span><span class="content">KeyFrame Algorithms</span><a class="self-link" href="#KeyFrame-algorithms"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export id="abstract-opdef-generate-key-frame-algorithm">generate key frame algorithm</dfn>, given <var>promise</var>, <var>encoder</var> and <var>rid</var>, is defined by running these steps:</p>
   <ol>
    <li data-md>
     <p>If <var>encoder</var> is undefined, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>encoder</var> is not processing video frames, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>rid</var> is defined, but does not conform to the grammar requirements specified
in Section 10 of <a data-link-type="biblio" href="#biblio-rfc8851" title="RTP Payload Format Restrictions">[RFC8851]</a>, then reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code> and abort
these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">In parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Gather a list of video encoders, named <var>videoEncoders</var> from <var>encoder</var>, ordered according negotiated RIDs if any.</p>
      <li data-md>
       <p>If <var>rid</var> is defined, remove from <var>videoEncoders</var> any video encoder that does not match <var>rid</var>.</p>
      <li data-md>
       <p>If <var>rid</var> is undefined, remove from <var>videoEncoders</var> all video encoders except the first one.</p>
      <li data-md>
       <p>If <var>videoEncoders</var> is empty, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④">queue a task</a> to reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">NotFoundError</a></code> and abort these steps. <var>videoEncoders</var> is expected to be empty if the corresponding <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①①">RTCRtpSender</a></code> is not active, or the corresponding <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①②">RTCRtpSender</a></code> track is ended.</p>
      <li data-md>
       <p>Let <var>videoEncoder</var> be the first encoder in <var>videoEncoders</var>.</p>
      <li data-md>
       <p>If <var>rid</var> is undefined, set <var>rid</var> to the RID value corresponding to <var>videoEncoder</var>.</p>
      <li data-md>
       <p>Create a pending key frame task called <var>task</var> with <var>task</var>.<code>[[rid]]</code> set to rid and <var>task</var>.<code>[[promise]]</code>| set to <var>promise</var>.</p>
      <li data-md>
       <p>If <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> is undefined, initialize <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> to an empty set.</p>
      <li data-md>
       <p>Let <var>shouldTriggerKeyFrame</var> be <code>false</code> if <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> contains a task whose <code>[[rid]]</code> value is equal to <var>rid</var>, and <code>true</code> otherwise.</p>
      <li data-md>
       <p>Add <var>task</var> to <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>.</p>
      <li data-md>
       <p>If <var>shouldTriggerKeyFrame</var> is <code>true</code>, instruct <var>videoEncoder</var> to generate a key frame for the next provided video frame.</p>
     </ol>
   </ol>
   <p>For any <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑧">RTCRtpScriptTransformer</a></code> named <var>transformer</var>, the following steps are run just before any <var>frame</var> is enqueued in <var>transformer</var>.<code>[[readable]]</code>:</p>
   <ol>
    <li data-md>
     <p>Let <var>encoder</var> be <var>transformer</var>.<code>[[encoder]]</code>.</p>
    <li data-md>
     <p>If <var>encoder</var> or <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> is undefined, abort these steps.</p>
    <li data-md>
     <p>If <var>frame</var> is not a video <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframetype-key" id="ref-for-dom-rtcencodedvideoframetype-key①">"key"</a></code> frame, abort these steps.</p>
    <li data-md>
     <p>For each <var>task</var> in <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>If <var>frame</var> was generated by a video encoder identified by <var>task</var>.<code>[[rid]]</code>, run the following steps:</p>
       <ol>
        <li data-md>
         <p>Remove <var>task</var> from <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>.</p>
        <li data-md>
         <p>Resolve <var>task</var>.<code>[[promise]]</code> with <var>frame</var>’s timestamp.</p>
       </ol>
     </ol>
   </ol>
   <p>By resolving the promises just before enqueuing the corresponding key frame in a <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑨">RTCRtpScriptTransformer</a></code>’s readable,
the resolution callbacks of the promises are always executed just before the corresponding key frame is exposed.
If the promise is associated to several rid values, it will be resolved when the first key frame corresponding to one the rid value is enqueued.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export id="abstract-opdef-send-request-key-frame-algorithm">send request key frame algorithm</dfn>, given <var>promise</var> and <var>depacketizer</var>, is defined by running these steps:</p>
   <ol>
    <li data-md>
     <p>If <var>depacketizer</var> is undefined, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>depacketizer</var> does not belong to a video <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver①①">RTCRtpReceiver</a></code>, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">In parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>If sending a Full Intra Request (FIR) by <var>depacketizer</var>’s receiver is not deemed appropriate, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>promise</var> with undefined and abort these steps.
Section 4.3.1 of <a data-link-type="biblio" href="#biblio-rfc5104" title="Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)">[RFC5104]</a> provides guidelines of how and when it is appropriate to sending a Full Intra Request.</p>
      <li data-md>
       <p>Generate a Full Intra Request (FIR) packet as defined in section 4.3.1 of <a data-link-type="biblio" href="#biblio-rfc5104" title="Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)">[RFC5104]</a> and send it through <var>depacketizer</var>’s receiver.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑤">Queue a task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">resolve</a> <var>promise</var> with undefined.</p>
     </ol>
   </ol>
   <h2 class="heading settled" data-level="5" id="rtcrtpsender-extension"><span class="secno">5. </span><span class="content">RTCRtpSender extension</span><a class="self-link" href="#rtcrtpsender-extension"></a></h2>
   <p>An additional API on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①③">RTCRtpSender</a></code> is added to complement the generation of key frame added to <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer①⓪">RTCRtpScriptTransformer</a></code>.</p>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①④"><c- g>RTCRtpSender</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpsender-generatekeyframe" id="ref-for-dom-rtcrtpsender-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a> &lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpSender/generateKeyFrame(rids), RTCRtpSender/generateKeyFrame()" data-dfn-type="argument" data-export id="dom-rtcrtpsender-generatekeyframe-rids-rids"><code><c- g>rids</c-></code></dfn>);
};
</pre>
   <h3 class="heading settled" data-level="5.1" id="sender-operation"><span class="secno">5.1. </span><span class="content">Extension operation</span><a class="self-link" href="#sender-operation"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpSender" data-dfn-type="method" data-export data-lt="generateKeyFrame(rids)|generateKeyFrame()" id="dom-rtcrtpsender-generatekeyframe"><code>generateKeyFrame(<var>rids</var>)</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">In parallel</a>, run the <a data-link-type="abstract-op" href="#abstract-opdef-generate-key-frame-algorithm" id="ref-for-abstract-opdef-generate-key-frame-algorithm②">generate key frame algorithm</a> with <var>promise</var>, <var>this</var>’s encoder and <var>rids</var>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="6" id="privacy"><span class="secno">6. </span><span class="content">Privacy and security considerations</span><a class="self-link" href="#privacy"></a></h2>
   <p>This API gives Javascript access to the content of media streams. This
is also available from other sources, such as Canvas and WebAudio.</p>
   <p>However, streams that are isolated (as specified in <a data-link-type="biblio" href="#biblio-webrtc-identity" title="Identity for WebRTC 1.0">[WEBRTC-IDENTITY]</a>) or tainted with another origin, cannot be
accessed using this API, since that would break the isolation rule.</p>
   <p>The API will allow access to some aspects of timing information that are
otherwise unavailable, which allows some fingerprinting surface.</p>
   <p>The API will give access to encoded media, which means that the JS application
will have full control over what’s delivered to internal components like
the packetizer or the decoder. This may require additional care with
auditing how data is handled inside these components.</p>
   <p>For instance, packetizers may expect to see data only from trusted encoders,
and may not be audited for reception of data from untrusted sources.</p>
   <h2 class="heading settled" data-level="7" id="examples"><span class="secno">7. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <p>See the <a href="https://github.com/w3c/webrtc-encoded-transform/blob/master/explainer.md#code-examples">explainer document</a>.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
   </section>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#abstract-opdef-rtcrtptransform-association-steps">association steps</a><span>, in § 2.2</span>
   <li><a href="#dom-rtcencodedaudioframemetadata-audiolevel">audioLevel</a><span>, in § 4.5.1</span>
   <li><a href="#dom-sframetransformerroreventtype-authentication">"authentication"</a><span>, in § 3</span>
   <li><a href="#dom-rtcencodedframemetadata-capturetime">captureTime</a><span>, in § 4.1.1</span>
   <li><a href="#abstract-opdef-chain-transform-algorithm">chain transform algorithm</a><span>, in § 2.2</span>
   <li>
    constructor()
    <ul>
     <li><a href="#dom-sframetransform-sframetransform">constructor for SFrameTransform</a><span>, in § 3</span>
     <li><a href="#dom-rtcencodedaudioframe-constructor">method for RTCEncodedAudioFrame</a><span>, in § 4.6.1</span>
     <li><a href="#dom-rtcencodedvideoframe-constructor">method for RTCEncodedVideoFrame</a><span>, in § 4.4.1</span>
    </ul>
   <li><a href="#dom-sframetransform-sframetransform">constructor(options)</a><span>, in § 3</span>
   <li>
    constructor(originalFrame)
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe">constructor for RTCEncodedAudioFrame</a><span>, in § 4.6</span>
     <li><a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe">constructor for RTCEncodedVideoFrame</a><span>, in § 4.4</span>
    </ul>
   <li>
    constructor(originalFrame, options)
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe">constructor for RTCEncodedAudioFrame</a><span>, in § 4.6</span>
     <li><a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe">constructor for RTCEncodedVideoFrame</a><span>, in § 4.4</span>
    </ul>
   <li><a href="#dom-keyframerequestevent-keyframerequestevent">constructor(type)</a><span>, in § 4.7</span>
   <li><a href="#dom-sframetransformerrorevent-sframetransformerrorevent">constructor(type, eventInitDict)</a><span>, in § 3</span>
   <li><a href="#dom-keyframerequestevent-keyframerequestevent">constructor(type, rid)</a><span>, in § 4.7</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker)</a><span>, in § 4.8</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker, options)</a><span>, in § 4.8</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker, options, transfer)</a><span>, in § 4.8</span>
   <li><a href="#dom-rtcencodedframemetadata-contributingsources">contributingSources</a><span>, in § 4.1.1</span>
   <li><a href="#typedefdef-cryptokeyid">CryptoKeyID</a><span>, in § 3</span>
   <li>
    data
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-data">attribute for RTCEncodedAudioFrame</a><span>, in § 4.6.2</span>
     <li><a href="#dom-rtcencodedvideoframe-data">attribute for RTCEncodedVideoFrame</a><span>, in § 4.4.2</span>
    </ul>
   <li><a href="#dom-sframetransformrole-decrypt">"decrypt"</a><span>, in § 3</span>
   <li><a href="#dom-rtcencodedvideoframetype-delta">"delta"</a><span>, in § 4.2</span>
   <li><a href="#dom-rtcencodedvideoframetype-delta">delta</a><span>, in § 4.2</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-dependencies">dependencies</a><span>, in § 4.3.1</span>
   <li><a href="#dom-rtcencodedvideoframetype-empty">"empty"</a><span>, in § 4.2</span>
   <li><a href="#dom-rtcencodedvideoframetype-empty">empty</a><span>, in § 4.2</span>
   <li><a href="#dom-sframetransformrole-encrypt">"encrypt"</a><span>, in § 3</span>
   <li>
    errorType
    <ul>
     <li><a href="#dom-sframetransformerrorevent-errortype">attribute for SFrameTransformErrorEvent</a><span>, in § 3</span>
     <li><a href="#dom-sframetransformerroreventinit-errortype">dict-member for SFrameTransformErrorEventInit</a><span>, in § 3</span>
    </ul>
   <li>
    frame
    <ul>
     <li><a href="#dom-sframetransformerrorevent-frame">attribute for SFrameTransformErrorEvent</a><span>, in § 3</span>
     <li><a href="#dom-sframetransformerroreventinit-frame">dict-member for SFrameTransformErrorEventInit</a><span>, in § 3</span>
    </ul>
   <li><a href="#dom-rtcencodedvideoframemetadata-frameid">frameId</a><span>, in § 4.3.1</span>
   <li>
    generateKeyFrame()
    <ul>
     <li><a href="#dom-rtcrtpscripttransformer-generatekeyframe">method for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
     <li><a href="#dom-rtcrtpsender-generatekeyframe">method for RTCRtpSender</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#abstract-opdef-generate-key-frame-algorithm">generate key frame algorithm</a><span>, in § 4.11</span>
   <li>
    generateKeyFrame(rid)
    <ul>
     <li><a href="#dom-rtcrtpscripttransform-generatekeyframe">method for RTCRtpScriptTransform</a><span>, in § 4.8</span>
     <li><a href="#dom-rtcrtpscripttransformer-generatekeyframe">method for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#dom-rtcrtpsender-generatekeyframe">generateKeyFrame(rids)</a><span>, in § 5.1</span>
   <li>
    getMetadata()
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-getmetadata">method for RTCEncodedAudioFrame</a><span>, in § 4.6.3</span>
     <li><a href="#dom-rtcencodedvideoframe-getmetadata">method for RTCEncodedVideoFrame</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#dom-rtcencodedvideoframemetadata-height">height</a><span>, in § 4.3</span>
   <li><a href="#dom-rtcencodedvideoframetype-key">"key"</a><span>, in § 4.2</span>
   <li><a href="#dom-rtcencodedvideoframetype-key">key</a><span>, in § 4.2</span>
   <li><a href="#keyframerequestevent">KeyFrameRequestEvent</a><span>, in § 4.7</span>
   <li><a href="#dom-keyframerequestevent-keyframerequestevent">KeyFrameRequestEvent(type)</a><span>, in § 4.7</span>
   <li><a href="#dom-keyframerequestevent-keyframerequestevent">KeyFrameRequestEvent(type, rid)</a><span>, in § 4.7</span>
   <li><a href="#dom-sframetransformerroreventtype-keyid">"keyID"</a><span>, in § 3</span>
   <li>
    keyID
    <ul>
     <li><a href="#dom-sframetransformerrorevent-keyid">attribute for SFrameTransformErrorEvent</a><span>, in § 3</span>
     <li><a href="#dom-sframetransformerroreventinit-keyid">dict-member for SFrameTransformErrorEventInit</a><span>, in § 3</span>
    </ul>
   <li>
    metadata
    <ul>
     <li><a href="#dom-rtcencodedaudioframeoptions-metadata">dict-member for RTCEncodedAudioFrameOptions</a><span>, in § 4.6</span>
     <li><a href="#dom-rtcencodedvideoframeoptions-metadata">dict-member for RTCEncodedVideoFrameOptions</a><span>, in § 4.4</span>
    </ul>
   <li><a href="#dom-rtcencodedframemetadata-mimetype">mimeType</a><span>, in § 4.1.1</span>
   <li><a href="#dom-rtcrtpscripttransform-onbandwidthestimate">onbandwidthestimate</a><span>, in § 4.9</span>
   <li><a href="#dom-sframetransform-onerror">onerror</a><span>, in § 3</span>
   <li>
    onkeyframerequest
    <ul>
     <li><a href="#dom-rtcrtpscripttransform-onkeyframerequest">attribute for RTCRtpScriptTransform</a><span>, in § 4.9</span>
     <li><a href="#dom-rtcrtpscripttransformer-onkeyframerequest">attribute for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#dom-dedicatedworkerglobalscope-onrtctransform">onrtctransform</a><span>, in § 4.7</span>
   <li><a href="#dom-rtcrtpscripttransformer-options">options</a><span>, in § 4.9</span>
   <li><a href="#dom-rtcencodedframemetadata-payloadtype">payloadType</a><span>, in § 4.1.1</span>
   <li>
    readable
    <ul>
     <li><a href="#dom-rtcrtpscripttransform-readable">attribute for RTCRtpScriptTransform</a><span>, in § 4.9</span>
     <li><a href="#dom-rtcrtpscripttransformer-readable">attribute for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#abstract-opdef-readencodeddata">readEncodedData</a><span>, in § 2.1.2</span>
   <li><a href="#dom-rtcencodedframemetadata-receivetime">receiveTime</a><span>, in § 4.1.1</span>
   <li><a href="#dom-keyframerequestevent-rid">rid</a><span>, in § 4.7</span>
   <li><a href="#dom-sframetransformoptions-role">role</a><span>, in § 3</span>
   <li><a href="#rtcencodedaudioframe">RTCEncodedAudioFrame</a><span>, in § 4.6</span>
   <li><a href="#dictdef-rtcencodedaudioframemetadata">RTCEncodedAudioFrameMetadata</a><span>, in § 4.5</span>
   <li><a href="#dictdef-rtcencodedaudioframeoptions">RTCEncodedAudioFrameOptions</a><span>, in § 4.6</span>
   <li><a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe">RTCEncodedAudioFrame(originalFrame)</a><span>, in § 4.6</span>
   <li><a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe">RTCEncodedAudioFrame(originalFrame, options)</a><span>, in § 4.6</span>
   <li><a href="#dictdef-rtcencodedframemetadata">RTCEncodedFrameMetadata</a><span>, in § 4.1</span>
   <li><a href="#rtcencodedvideoframe">RTCEncodedVideoFrame</a><span>, in § 4.4</span>
   <li><a href="#dictdef-rtcencodedvideoframemetadata">RTCEncodedVideoFrameMetadata</a><span>, in § 4.3</span>
   <li><a href="#dictdef-rtcencodedvideoframeoptions">RTCEncodedVideoFrameOptions</a><span>, in § 4.4</span>
   <li><a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe">RTCEncodedVideoFrame(originalFrame)</a><span>, in § 4.4</span>
   <li><a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe">RTCEncodedVideoFrame(originalFrame, options)</a><span>, in § 4.4</span>
   <li><a href="#enumdef-rtcencodedvideoframetype">RTCEncodedVideoFrameType</a><span>, in § 4.2</span>
   <li><a href="#rtcrtpscripttransform">RTCRtpScriptTransform</a><span>, in § 4.7</span>
   <li><a href="#rtcrtpscripttransformer">RTCRtpScriptTransformer</a><span>, in § 4.7</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker)</a><span>, in § 4.8</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker, options)</a><span>, in § 4.8</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker, options, transfer)</a><span>, in § 4.8</span>
   <li><a href="#typedefdef-rtcrtptransform">RTCRtpTransform</a><span>, in § 2</span>
   <li><a href="#eventdef-dedicatedworkerglobalscope-rtctransform">rtctransform</a><span>, in § 4.8</span>
   <li><a href="#rtctransformevent">RTCTransformEvent</a><span>, in § 4.7</span>
   <li><a href="#dom-rtcencodedframemetadata-rtptimestamp">rtpTimestamp</a><span>, in § 4.1.1</span>
   <li><a href="#dom-rtcencodedframemetadata-sendercapturetimeoffset">senderCaptureTimeOffset</a><span>, in § 4.1.1</span>
   <li>
    sendKeyFrameRequest()
    <ul>
     <li><a href="#dom-rtcrtpscripttransform-sendkeyframerequest">method for RTCRtpScriptTransform</a><span>, in § 4.8</span>
     <li><a href="#dom-rtcrtpscripttransformer-sendkeyframerequest">method for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#abstract-opdef-send-request-key-frame-algorithm">send request key frame algorithm</a><span>, in § 4.11</span>
   <li><a href="#dom-rtcencodedaudioframemetadata-sequencenumber">sequenceNumber</a><span>, in § 4.5.1</span>
   <li><a href="#dom-sframetransform-setencryptionkey">setEncryptionKey(key)</a><span>, in § 3.2</span>
   <li><a href="#dom-sframetransform-setencryptionkey">setEncryptionKey(key, keyID)</a><span>, in § 3.2</span>
   <li><a href="#sframetransform">SFrameTransform</a><span>, in § 3</span>
   <li><a href="#dom-sframetransform-sframetransform">SFrameTransform()</a><span>, in § 3</span>
   <li><a href="#sframetransformerrorevent">SFrameTransformErrorEvent</a><span>, in § 3</span>
   <li><a href="#dictdef-sframetransformerroreventinit">SFrameTransformErrorEventInit</a><span>, in § 3</span>
   <li><a href="#enumdef-sframetransformerroreventtype">SFrameTransformErrorEventType</a><span>, in § 3</span>
   <li><a href="#dom-sframetransformerrorevent-sframetransformerrorevent">SFrameTransformErrorEvent(type, eventInitDict)</a><span>, in § 3</span>
   <li><a href="#dom-sframetransform-sframetransform">SFrameTransform(options)</a><span>, in § 3</span>
   <li><a href="#dictdef-sframetransformoptions">SFrameTransformOptions</a><span>, in § 3</span>
   <li><a href="#enumdef-sframetransformrole">SFrameTransformRole</a><span>, in § 3</span>
   <li><a href="#typedefdef-smallcryptokeyid">SmallCryptoKeyID</a><span>, in § 3</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-spatialindex">spatialIndex</a><span>, in § 4.3</span>
   <li><a href="#dom-rtcencodedframemetadata-synchronizationsource">synchronizationSource</a><span>, in § 4.1.1</span>
   <li><a href="#dom-sframetransformerroreventtype-syntax">"syntax"</a><span>, in § 3</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-temporalindex">temporalIndex</a><span>, in § 4.3</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-timestamp">timestamp</a><span>, in § 4.3.1</span>
   <li><a href="#dom-rtcrtpsender-transform">transform</a><span>, in § 2.2</span>
   <li><a href="#dom-rtctransformevent-transformer">transformer</a><span>, in § 4.7</span>
   <li><a href="#dom-rtcencodedvideoframe-type">type</a><span>, in § 4.4.2</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-width">width</a><span>, in § 4.3</span>
   <li>
    writable
    <ul>
     <li><a href="#dom-rtcrtpscripttransform-writable">attribute for RTCRtpScriptTransform</a><span>, in § 4.9</span>
     <li><a href="#dom-rtcrtpscripttransformer-writable">attribute for RTCRtpScriptTransformer</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#abstract-opdef-writeencodeddata">writeEncodedData</a><span>, in § 2.1.2</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="535dd335">aborted</span>
     <li><span class="dfn-paneled" id="87bc23a5">add</span>
     <li><span class="dfn-paneled" id="8c407366">cancelable</span>
     <li><span class="dfn-paneled" id="2e9f6464">canceled flag</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="0fe84b59">signal</span>
     <li><span class="dfn-paneled" id="2296404c">signal abort</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="bd45e189">Performance</span>
     <li><span class="dfn-paneled" id="3b35d8a9">timeOrigin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8308563">DedicatedWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="eb5c4be3">Serializable</span>
     <li><span class="dfn-paneled" id="e7cb09fb">StructuredDeserializeWithTransfer</span>
     <li><span class="dfn-paneled" id="9da834a1">StructuredSerializeWithTransfer</span>
     <li><span class="dfn-paneled" id="bfc1c271">Worker</span>
     <li><span class="dfn-paneled" id="888d7c65">deserialization steps</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="0a422d04">serializable object</span>
     <li><span class="dfn-paneled" id="f32dc6c1">serialization steps</span>
     <li><span class="dfn-paneled" id="f2f85335">structuredClone(value, options)</span>
     <li><span class="dfn-paneled" id="c187d599">sub-deserialization</span>
     <li><span class="dfn-paneled" id="d76ab844">sub-serialization</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIACAPTURE-STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bc1e4fa1">MediaStreamTrack</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d61c5cab">GenericTransformStream</span>
     <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
     <li><span class="dfn-paneled" id="47e93e3e">TransformStream</span>
     <li><span class="dfn-paneled" id="59dc45b5">WritableStream</span>
     <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
     <li><span class="dfn-paneled" id="bf6531af">getting a reader</span>
     <li><span class="dfn-paneled" id="f4acb816">getting a writer</span>
     <li><span class="dfn-paneled" id="5958fe2e">highWaterMark</span>
     <li><span class="dfn-paneled" id="03c3f3ed">identity transform stream</span>
     <li><span class="dfn-paneled" id="b21c2abd">release <small>(for ReadableStreamDefaultReader)</small></span>
     <li><span class="dfn-paneled" id="a307241e">release <small>(for WritableStreamDefaultWriter)</small></span>
     <li><span class="dfn-paneled" id="d438bc09">set up <small>(for ReadableStream)</small></span>
     <li><span class="dfn-paneled" id="3dc81766">set up <small>(for WritableStream)</small></span>
     <li><span class="dfn-paneled" id="c7574ff1">transformAlgorithm</span>
     <li><span class="dfn-paneled" id="d04a8309">writeAlgorithm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBCODECS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="93b563b6">timestamp</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBCRYPTO-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5fc623fc">CryptoKey</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="3aff2fb3">BufferSource</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="d54f5897">DataCloneError</span>
     <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="cae6bf57">InvalidModificationError</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="ec878a66">RangeError</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
     <li><span class="dfn-paneled" id="6c6b1005">any</span>
     <li><span class="dfn-paneled" id="bdcd112d">bigint</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="9aeb0a82">long long</span>
     <li><span class="dfn-paneled" id="efd1ec5d">object</span>
     <li><span class="dfn-paneled" id="bc5645aa">octet</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="47574099">short</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
     <li><span class="dfn-paneled" id="450958f7">unsigned short</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBRTC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c891de74">RTCConfiguration</span>
     <li><span class="dfn-paneled" id="7c983b6d">RTCPeerConnection</span>
     <li><span class="dfn-paneled" id="e4db230f">RTCRtpReceiver</span>
     <li><span class="dfn-paneled" id="b161d57f">RTCRtpSender</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-iana-media-types">[IANA-MEDIA-TYPES]
   <dd><a href="https://www.iana.org/assignments/media-types/"><cite>Media Types</cite></a>. URL: <a href="https://www.iana.org/assignments/media-types/">https://www.iana.org/assignments/media-types/</a>
   <dt id="biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/mediacapture-main/"><cite>Media Capture and Streams</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-main/">https://w3c.github.io/mediacapture-main/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc6464">[RFC6464]
   <dd>J. Lennox, Ed.; E. Ivov; E. Marocco. <a href="https://www.rfc-editor.org/rfc/rfc6464"><cite>A Real-time Transport Protocol (RTP) Header Extension for Client-to-Mixer Audio Level Indication</cite></a>. December 2011. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6464">https://www.rfc-editor.org/rfc/rfc6464</a>
   <dt id="biblio-rfc8851">[RFC8851]
   <dd>A.B. Roach, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc8851"><cite>RTP Payload Format Restrictions</cite></a>. January 2021. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8851">https://www.rfc-editor.org/rfc/rfc8851</a>
   <dt id="biblio-rtp-ext-capture-time">[RTP-EXT-CAPTURE-TIME]
   <dd><a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/"><cite>RTP Header Extension for Absolute Capture Time</cite></a>. URL: <a href="https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/">https://datatracker.ietf.org/doc/draft-ietf-avtcore-abs-capture-time/</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-webcodecs">[WEBCODECS]
   <dd>Paul Adenot; Eugene Zemtsov. <a href="https://w3c.github.io/webcodecs/"><cite>WebCodecs</cite></a>. URL: <a href="https://w3c.github.io/webcodecs/">https://w3c.github.io/webcodecs/</a>
   <dt id="biblio-webcrypto-2">[WEBCRYPTO-2]
   <dd>Daniel Huigens. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography Level 2</cite></a>. URL: <a href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webrtc">[WEBRTC]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC: Real-Time Communication in Browsers</cite></a>. URL: <a href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-av1">[AV1]
   <dd>Peter de Rivaz; Jack Haughton. <a href="https://aomediacodec.github.io/av1-spec/av1-spec.pdf"><cite>AV1 Bitstream &amp; Decoding Process Specification</cite></a>. 8 January 2019. Standard. URL: <a href="https://aomediacodec.github.io/av1-spec/av1-spec.pdf">https://aomediacodec.github.io/av1-spec/av1-spec.pdf</a>
   <dt id="biblio-av1-rtp-spec">[AV1-RTP-SPEC]
   <dd><a href="https://aomediacodec.github.io/av1-rtp-spec/"><cite>RTP Payload Format For AV1</cite></a>. Draft Deliverable. URL: <a href="https://aomediacodec.github.io/av1-rtp-spec/">https://aomediacodec.github.io/av1-rtp-spec/</a>
   <dt id="biblio-clonearraybuffer">[CloneArrayBuffer]
   <dd><a href="https://tc39.es/ecma262/#sec-clonearraybuffer"><cite>CloneArrayBuffer</cite></a>. URL: <a href="https://tc39.es/ecma262/#sec-clonearraybuffer">https://tc39.es/ecma262/#sec-clonearraybuffer</a>
   <dt id="biblio-itu-g711">[ITU-G.711]
   <dd><a href="https://www.itu.int/rec/T-REC-G.711/"><cite>G.711 : Pulse code modulation (PCM) of voice frequencies</cite></a>. URL: <a href="https://www.itu.int/rec/T-REC-G.711/">https://www.itu.int/rec/T-REC-G.711/</a>
   <dt id="biblio-itu-g722">[ITU-G.722]
   <dd><a href="https://www.itu.int/rec/T-REC-G.722/"><cite>G.722 : 7 kHz audio-coding within 64 kbit/s</cite></a>. URL: <a href="https://www.itu.int/rec/T-REC-G.722/">https://www.itu.int/rec/T-REC-G.722/</a>
   <dt id="biblio-itu-t-rec-h264">[ITU-T-REC-H.264]
   <dd><a href="https://www.itu.int/rec/T-REC-H.264"><cite>H.264 : Advanced video coding for generic audiovisual services</cite></a>. URL: <a href="https://www.itu.int/rec/T-REC-H.264">https://www.itu.int/rec/T-REC-H.264</a>
   <dt id="biblio-rfc1982">[RFC1982]
   <dd>R. Elz; R. Bush. <a href="https://www.rfc-editor.org/rfc/rfc1982"><cite>Serial Number Arithmetic</cite></a>. August 1996. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc1982">https://www.rfc-editor.org/rfc/rfc1982</a>
   <dt id="biblio-rfc2198">[RFC2198]
   <dd>C. Perkins; et al. <a href="https://www.rfc-editor.org/rfc/rfc2198"><cite>RTP Payload for Redundant Audio Data</cite></a>. September 1997. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2198">https://www.rfc-editor.org/rfc/rfc2198</a>
   <dt id="biblio-rfc3389">[RFC3389]
   <dd>R. Zopf. <a href="https://www.rfc-editor.org/rfc/rfc3389"><cite>Real-time Transport Protocol (RTP) Payload for Comfort Noise (CN)</cite></a>. September 2002. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3389">https://www.rfc-editor.org/rfc/rfc3389</a>
   <dt id="biblio-rfc3550">[RFC3550]
   <dd>H. Schulzrinne; et al. <a href="https://www.rfc-editor.org/rfc/rfc3550"><cite>RTP: A Transport Protocol for Real-Time Applications</cite></a>. July 2003. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3550">https://www.rfc-editor.org/rfc/rfc3550</a>
   <dt id="biblio-rfc5104">[RFC5104]
   <dd>S. Wenger; et al. <a href="https://www.rfc-editor.org/rfc/rfc5104"><cite>Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)</cite></a>. February 2008. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5104">https://www.rfc-editor.org/rfc/rfc5104</a>
   <dt id="biblio-rfc6386">[RFC6386]
   <dd>J. Bankoski; et al. <a href="https://www.rfc-editor.org/rfc/rfc6386"><cite>VP8 Data Format and Decoding Guide</cite></a>. November 2011. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc6386">https://www.rfc-editor.org/rfc/rfc6386</a>
   <dt id="biblio-rfc6716">[RFC6716]
   <dd>JM. Valin; K. Vos; T. Terriberry. <a href="https://www.rfc-editor.org/rfc/rfc6716"><cite>Definition of the Opus Audio Codec</cite></a>. September 2012. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc6716">https://www.rfc-editor.org/rfc/rfc6716</a>
   <dt id="biblio-sframe">[SFrame]
   <dd><a href="https://www.ietf.org/archive/id/draft-ietf-sframe-enc-04.html"><cite>Secure Frame (SFrame)</cite></a>. URL: <a href="https://www.ietf.org/archive/id/draft-ietf-sframe-enc-04.html">https://www.ietf.org/archive/id/draft-ietf-sframe-enc-04.html</a>
   <dt id="biblio-vp9">[VP9]
   <dd><a href="https://storage.googleapis.com/downloads.webmproject.org/docs/vp9/vp9-bitstream-specification-v0.6-20160331-draft.pdf"><cite>VP9 Bitstream &amp; Decoding Process Specification</cite></a>. URL: <a href="https://storage.googleapis.com/downloads.webmproject.org/docs/vp9/vp9-bitstream-specification-v0.6-20160331-draft.pdf">https://storage.googleapis.com/downloads.webmproject.org/docs/vp9/vp9-bitstream-specification-v0.6-20160331-draft.pdf</a>
   <dt id="biblio-webrtc-identity">[WEBRTC-IDENTITY]
   <dd>Cullen Jennings; Martin Thomson. <a href="https://w3c.github.io/webrtc-identity/"><cite>Identity for WebRTC 1.0</cite></a>. URL: <a href="https://w3c.github.io/webrtc-identity/">https://w3c.github.io/webrtc-identity/</a>
   <dt id="biblio-webrtc-nv-use-cases">[WEBRTC-NV-USE-CASES]
   <dd>Bernard Aboba. <a href="https://w3c.github.io/webrtc-nv-use-cases/"><cite>WebRTC Extended Use Cases</cite></a>. URL: <a href="https://w3c.github.io/webrtc-nv-use-cases/">https://w3c.github.io/webrtc-nv-use-cases/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>typedef</c-> (<a data-link-type="idl-name" href="#sframetransform"><c- n>SFrameTransform</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransform"><c- n>RTCRtpScriptTransform</c-></a>) <a href="#typedefdef-rtcrtptransform"><code><c- g>RTCRtpTransform</c-></code></a>;

// New methods for RTCRtpSender and RTCRtpReceiver
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"><c- g>RTCRtpSender</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver"><c- g>RTCRtpReceiver</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-sframetransformrole"><code><c- g>SFrameTransformRole</c-></code></a> {
    <a href="#dom-sframetransformrole-encrypt"><code><c- s>"encrypt"</c-></code></a>,
    <a href="#dom-sframetransformrole-decrypt"><code><c- s>"decrypt"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-sframetransformoptions"><code><c- g>SFrameTransformOptions</c-></code></a> {
    <a data-link-type="idl-name" href="#enumdef-sframetransformrole"><c- n>SFrameTransformRole</c-></a> <a data-default="&quot;encrypt&quot;" data-type="SFrameTransformRole" href="#dom-sframetransformoptions-role"><code><c- g>role</c-></code></a> = "encrypt";
};

<c- b>typedef</c-> [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#typedefdef-smallcryptokeyid"><code><c- g>SmallCryptoKeyID</c-></code></a>;
<c- b>typedef</c-> (<a data-link-type="idl-name" href="#typedefdef-smallcryptokeyid"><c- n>SmallCryptoKeyID</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-bigint"><c- b>bigint</c-></a>) <a href="#typedefdef-cryptokeyid"><code><c- g>CryptoKeyID</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#sframetransform"><code><c- g>SFrameTransform</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-sframetransform-sframetransform"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sframetransformoptions"><c- n>SFrameTransformOptions</c-></a> <a href="#dom-sframetransform-sframetransform-options-options"><code><c- g>options</c-></code></a> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-sframetransform-setencryptionkey"><c- g>setEncryptionKey</c-></a>(<a data-link-type="idl-name" href="https://w3c.github.io/webcrypto/#dfn-CryptoKey"><c- n>CryptoKey</c-></a> <a href="#dom-sframetransform-setencryptionkey-key-keyid-key"><code><c- g>key</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a> <a href="#dom-sframetransform-setencryptionkey-key-keyid-keyid"><code><c- g>keyID</c-></code></a>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sframetransform-onerror"><code><c- g>onerror</c-></code></a>;
};
<a data-link-type="idl-name" href="#sframetransform"><c- n>SFrameTransform</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream"><c- n>GenericTransformStream</c-></a>;

<c- b>enum</c-> <a href="#enumdef-sframetransformerroreventtype"><code><c- g>SFrameTransformErrorEventType</c-></code></a> {
    <a href="#dom-sframetransformerroreventtype-authentication"><code><c- s>"authentication"</c-></code></a>,
    <a href="#dom-sframetransformerroreventtype-keyid"><code><c- s>"keyID"</c-></code></a>,
    <a href="#dom-sframetransformerroreventtype-syntax"><code><c- s>"syntax"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#sframetransformerrorevent"><code><c- g>SFrameTransformErrorEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
    <a href="#dom-sframetransformerrorevent-sframetransformerrorevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-sframetransformerroreventinit"><c- n>SFrameTransformErrorEventInit</c-></a> <a href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>);

    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <a data-readonly data-type="SFrameTransformErrorEventType" href="#dom-sframetransformerrorevent-errortype"><code><c- g>errorType</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a>? <a data-readonly data-type="CryptoKeyID?" href="#dom-sframetransformerrorevent-keyid"><code><c- g>keyID</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-readonly data-type="any" href="#dom-sframetransformerrorevent-frame"><code><c- g>frame</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sframetransformerroreventinit"><code><c- g>SFrameTransformErrorEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
    <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <a data-type="SFrameTransformErrorEventType" href="#dom-sframetransformerroreventinit-errortype"><code><c- g>errorType</c-></code></a>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any" href="#dom-sframetransformerroreventinit-frame"><code><c- g>frame</c-></code></a>;
    <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a>? <a data-type="CryptoKeyID?" href="#dom-sframetransformerroreventinit-keyid"><code><c- g>keyID</c-></code></a>;
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedframemetadata"><c- g>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-rtcencodedframemetadata-synchronizationsource"><c- g>synchronizationSource</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet"><c- b>octet</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="octet" href="#dom-rtcencodedframemetadata-payloadtype"><c- g>payloadType</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<unsigned long>" href="#dom-rtcencodedframemetadata-contributingsources"><c- g>contributingSources</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-rtcencodedframemetadata-rtptimestamp"><c- g>rtpTimestamp</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-receivetime"><c- g>receiveTime</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-capturetime"><c- g>captureTime</c-></a>;
    <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp" href="#dom-rtcencodedframemetadata-sendercapturetimeoffset"><c- g>senderCaptureTimeOffset</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-rtcencodedframemetadata-mimetype"><c- g>mimeType</c-></a>;
};

// New enum for video frame types. Will eventually re-use the equivalent defined
// by WebCodecs.
<c- b>enum</c-> <a class="idl-code" data-link-type="enum" href="#enumdef-rtcencodedvideoframetype"><c- g>RTCEncodedVideoFrameType</c-></a> {
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-empty"><c- s>"empty"</c-></a>,
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-key"><c- s>"key"</c-></a>,
    <a class="idl-code" data-link-type="enum-value" href="#dom-rtcencodedvideoframetype-delta"><c- s>"delta"</c-></a>,
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedvideoframemetadata"><c- g>RTCEncodedVideoFrameMetadata</c-></a> : <a data-link-type="idl-name" href="#dictdef-rtcencodedframemetadata"><c- n>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-rtcencodedvideoframemetadata-frameid"><c- g>frameId</c-></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<unsigned long long>" href="#dom-rtcencodedvideoframemetadata-dependencies"><c- g>dependencies</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short" href="#dom-rtcencodedvideoframemetadata-width"><code><c- g>width</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short" href="#dom-rtcencodedvideoframemetadata-height"><code><c- g>height</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long" href="#dom-rtcencodedvideoframemetadata-spatialindex"><code><c- g>spatialIndex</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long" href="#dom-rtcencodedvideoframemetadata-temporalindex"><code><c- g>temporalIndex</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="long long" href="#dom-rtcencodedvideoframemetadata-timestamp"><c- g>timestamp</c-></a>;    // microseconds
};

<c- b>dictionary</c-> <a href="#dictdef-rtcencodedvideoframeoptions"><code><c- g>RTCEncodedVideoFrameOptions</c-></code></a> {
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <a data-type="RTCEncodedVideoFrameMetadata" href="#dom-rtcencodedvideoframeoptions-metadata"><code><c- g>metadata</c-></code></a>;
};

// New interfaces to define encoded video and audio frames. Will eventually
// re-use or extend the equivalent defined in WebCodecs.
[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#rtcencodedvideoframe"><c- g>RTCEncodedVideoFrame</c-></a> {
    <a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="#rtcencodedvideoframe"><c- n>RTCEncodedVideoFrame</c-></a> <a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-originalframe"><code><c- g>originalFrame</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframeoptions"><c- n>RTCEncodedVideoFrameOptions</c-></a> <a href="#dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-options"><code><c- g>options</c-></code></a> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rtcencodedvideoframetype"><c- n>RTCEncodedVideoFrameType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="RTCEncodedVideoFrameType" href="#dom-rtcencodedvideoframe-type"><c- g>type</c-></a>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-type="ArrayBuffer" href="#dom-rtcencodedvideoframe-data"><c- g>data</c-></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedvideoframe-getmetadata"><c- g>getMetadata</c-></a>();
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-rtcencodedaudioframemetadata"><c- g>RTCEncodedAudioFrameMetadata</c-></a> : <a data-link-type="idl-name" href="#dictdef-rtcencodedframemetadata"><c- n>RTCEncodedFrameMetadata</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-short"><c- b>short</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="short" href="#dom-rtcencodedaudioframemetadata-sequencenumber"><c- g>sequenceNumber</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="double" href="#dom-rtcencodedaudioframemetadata-audiolevel"><c- g>audioLevel</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-rtcencodedaudioframeoptions"><code><c- g>RTCEncodedAudioFrameOptions</c-></code></a> {
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <a data-type="RTCEncodedAudioFrameMetadata" href="#dom-rtcencodedaudioframeoptions-metadata"><code><c- g>metadata</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#rtcencodedaudioframe"><c- g>RTCEncodedAudioFrame</c-></a> {
    <a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="#rtcencodedaudioframe"><c- n>RTCEncodedAudioFrame</c-></a> <a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-originalframe"><code><c- g>originalFrame</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframeoptions"><c- n>RTCEncodedAudioFrameOptions</c-></a> <a href="#dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-options"><code><c- g>options</c-></code></a> = {});
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-type="ArrayBuffer" href="#dom-rtcencodedaudioframe-data"><c- g>data</c-></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedaudioframe-getmetadata"><c- g>getMetadata</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <a href="#rtctransformevent"><code><c- g>RTCTransformEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransformer"><c- n>RTCRtpScriptTransformer</c-></a> <a data-readonly data-type="RTCRtpScriptTransformer" href="#dom-rtctransformevent-transformer"><code><c- g>transformer</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><c- g>DedicatedWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-dedicatedworkerglobalscope-onrtctransform"><code><c- g>onrtctransform</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <a href="#rtcrtpscripttransformer"><code><c- g>RTCRtpScriptTransformer</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
    // Attributes and methods related to the transformer source
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a data-readonly data-type="ReadableStream" href="#dom-rtcrtpscripttransformer-readable"><code><c- g>readable</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a href="#dom-rtcrtpscripttransformer-generatekeyframe"><code><c- g>generateKeyFrame</c-></code></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"><code><c- g>rid</c-></code></a>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a href="#dom-rtcrtpscripttransformer-sendkeyframerequest"><code><c- g>sendKeyFrameRequest</c-></code></a>();
    // Attributes and methods related to the transformer sink
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> <a data-readonly data-type="WritableStream" href="#dom-rtcrtpscripttransformer-writable"><code><c- g>writable</c-></code></a>;
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-rtcrtpscripttransformer-onkeyframerequest"><code><c- g>onkeyframerequest</c-></code></a>;
    // Attributes for configuring the Javascript code
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-rtcrtpscripttransformer-options"><c- g>options</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#rtcrtpscripttransform"><code><c- g>RTCRtpScriptTransform</c-></code></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker"><c- n>Worker</c-></a> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"><code><c- g>worker</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"><code><c- g>options</c-></code></a>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"><code><c- g>transfer</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <a href="#keyframerequestevent"><code><c- g>KeyFrameRequestEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-keyframerequestevent-keyframerequestevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-keyframerequestevent-keyframerequestevent-type-rid-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-keyframerequestevent-keyframerequestevent-type-rid-rid"><code><c- g>rid</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a data-readonly data-type="DOMString?" href="#dom-keyframerequestevent-rid"><code><c- g>rid</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"><c- g>RTCRtpSender</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpsender-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a> &lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a href="#dom-rtcrtpsender-generatekeyframe-rids-rids"><code><c- g>rids</c-></code></a>);
};

</pre>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"03c3f3ed": {"dfnID":"03c3f3ed","dfnText":"identity transform stream","external":true,"refSections":[{"refs":[{"id":"ref-for-identity-transform-stream"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-identity-transform-stream\u2460"},{"id":"ref-for-identity-transform-stream\u2461"}],"title":"4.8. Operations"}],"url":"https://streams.spec.whatwg.org/#identity-transform-stream"},
"0a422d04": {"dfnID":"0a422d04","dfnText":"serializable object","external":true,"refSections":[{"refs":[{"id":"ref-for-serializable-objects"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-serializable-objects\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"},
"0e9f636b": {"dfnID":"0e9f636b","dfnText":"DOMHighResTimeStamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-domhighrestimestamp"},{"id":"ref-for-dom-domhighrestimestamp\u2460"},{"id":"ref-for-dom-domhighrestimestamp\u2461"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dom-domhighrestimestamp\u2462"},{"id":"ref-for-dom-domhighrestimestamp\u2463"},{"id":"ref-for-dom-domhighrestimestamp\u2464"}],"title":"4.1.1. Members"}],"url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"0fe84b59": {"dfnID":"0fe84b59","dfnText":"signal","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-abortcontroller-signal\u2460"},{"id":"ref-for-abortcontroller-signal\u2461"},{"id":"ref-for-abortcontroller-signal\u2462"},{"id":"ref-for-abortcontroller-signal\u2463"}],"title":"2.2. Extension attribute"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-event\u2460"},{"id":"ref-for-event\u2461"}],"title":"4.7. Interfaces"}],"url":"https://dom.spec.whatwg.org/#event"},
"2296404c": {"dfnID":"2296404c","dfnText":"signal abort","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal-abort"}],"title":"2.2. Extension attribute"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-eventtarget\u2460"}],"title":"4.7. Interfaces"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2e66eaf1": {"dfnID":"2e66eaf1","dfnText":"AbortController","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-abortcontroller\u2460"}],"title":"2.2. Extension attribute"}],"url":"https://dom.spec.whatwg.org/#abortcontroller"},
"2e9f6464": {"dfnID":"2e9f6464","dfnText":"canceled flag","external":true,"refSections":[{"refs":[{"id":"ref-for-canceled-flag"}],"title":"4.10. Events"}],"url":"https://dom.spec.whatwg.org/#canceled-flag"},
"2f8afbfe": {"dfnID":"2f8afbfe","dfnText":"ArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ArrayBuffer"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-idl-ArrayBuffer\u2460"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-idl-ArrayBuffer\u2461"}],"title":"4.4.2. Members"},{"refs":[{"id":"ref-for-idl-ArrayBuffer\u2462"}],"title":"4.6. RTCEncodedAudioFrame interface"},{"refs":[{"id":"ref-for-idl-ArrayBuffer\u2463"}],"title":"4.6.2. Members"}],"url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"3aff2fb3": {"dfnID":"3aff2fb3","dfnText":"BufferSource","external":true,"refSections":[{"refs":[{"id":"ref-for-BufferSource"},{"id":"ref-for-BufferSource\u2460"}],"title":"3.1. Algorithm"}],"url":"https://webidl.spec.whatwg.org/#BufferSource"},
"3b35d8a9": {"dfnID":"3b35d8a9","dfnText":"timeOrigin","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performance-timeorigin"},{"id":"ref-for-dom-performance-timeorigin\u2460"}],"title":"4.1.1. Members"}],"url":"https://w3c.github.io/hr-time/#dom-performance-timeorigin"},
"3b90bdcd": {"dfnID":"3b90bdcd","dfnText":"resolve","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve"}],"title":"3.2. Methods"},{"refs":[{"id":"ref-for-resolve\u2460"},{"id":"ref-for-resolve\u2461"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://webidl.spec.whatwg.org/#resolve"},
"3dc81766": {"dfnID":"3dc81766","dfnText":"set up (for WritableStream)","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestream-set-up"}],"title":"2.1.1. Stream creation"}],"url":"https://streams.spec.whatwg.org/#writablestream-set-up"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"},{"id":"ref-for-this\u2460"},{"id":"ref-for-this\u2461"},{"id":"ref-for-this\u2462"},{"id":"ref-for-this\u2463"},{"id":"ref-for-this\u2464"},{"id":"ref-for-this\u2465"},{"id":"ref-for-this\u2466"},{"id":"ref-for-this\u2467"},{"id":"ref-for-this\u2468"},{"id":"ref-for-this\u2460\u24ea"},{"id":"ref-for-this\u2460\u2460"},{"id":"ref-for-this\u2460\u2461"},{"id":"ref-for-this\u2460\u2462"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-this\u2460\u2463"},{"id":"ref-for-this\u2460\u2464"},{"id":"ref-for-this\u2460\u2465"},{"id":"ref-for-this\u2460\u2466"},{"id":"ref-for-this\u2460\u2467"},{"id":"ref-for-this\u2460\u2468"},{"id":"ref-for-this\u2461\u24ea"},{"id":"ref-for-this\u2461\u2460"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-this\u2461\u2461"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-this\u2461\u2462"},{"id":"ref-for-this\u2461\u2463"},{"id":"ref-for-this\u2461\u2464"}],"title":"4.9. Attributes"}],"url":"https://webidl.spec.whatwg.org/#this"},
"44a7708c": {"dfnID":"44a7708c","dfnText":"EventInit","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-eventinit"}],"title":"3. SFrameTransform"}],"url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"450958f7": {"dfnID":"450958f7","dfnText":"unsigned short","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-short"},{"id":"ref-for-idl-unsigned-short\u2460"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-short"},
"47574099": {"dfnID":"47574099","dfnText":"short","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-short"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-short\u2460"}],"title":"4.5.1. Members"}],"url":"https://webidl.spec.whatwg.org/#idl-short"},
"47e93e3e": {"dfnID":"47e93e3e","dfnText":"TransformStream","external":true,"refSections":[{"refs":[{"id":"ref-for-transformstream"}],"title":"3. SFrameTransform"}],"url":"https://streams.spec.whatwg.org/#transformstream"},
"535dd335": {"dfnID":"535dd335","dfnText":"aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-aborted"}],"title":"2.2. Extension attribute"}],"url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"5958fe2e": {"dfnID":"5958fe2e","dfnText":"highWaterMark","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestream-set-up-highwatermark"}],"title":"2.1.1. Stream creation"}],"url":"https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark"},
"5991ccfb": {"dfnID":"5991ccfb","dfnText":"relevant realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-realm"}],"title":"2.1.2. Stream processing"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"59dc45b5": {"dfnID":"59dc45b5","dfnText":"WritableStream","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestream"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-writablestream\u2460"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-writablestream\u2461"}],"title":"4.7. Interfaces"}],"url":"https://streams.spec.whatwg.org/#writablestream"},
"59ed4e57": {"dfnID":"59ed4e57","dfnText":"ReadableStream","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-readablestream\u2460"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-readablestream\u2461"}],"title":"4.7. Interfaces"}],"url":"https://streams.spec.whatwg.org/#readablestream"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-undefined\u2460"}],"title":"4.7. Interfaces"},{"refs":[{"id":"ref-for-idl-undefined\u2461"}],"title":"5. RTCRtpSender extension"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5fc623fc": {"dfnID":"5fc623fc","dfnText":"CryptoKey","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-CryptoKey"}],"title":"3. SFrameTransform"}],"url":"https://w3c.github.io/webcrypto/#dfn-CryptoKey"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"},{"id":"ref-for-concept-event-fire\u2460"},{"id":"ref-for-concept-event-fire\u2461"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-concept-event-fire\u2462"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-concept-event-fire\u2463"}],"title":"4.10. Events"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"6b6bb798": {"dfnID":"6b6bb798","dfnText":"enqueue","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-enqueue"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-readablestream-enqueue\u2460"}],"title":"3.1. Algorithm"}],"url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"6c6b1005": {"dfnID":"6c6b1005","dfnText":"any","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-any"},{"id":"ref-for-idl-any\u2460"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-any\u2461"},{"id":"ref-for-idl-any\u2462"}],"title":"4.7. Interfaces"}],"url":"https://webidl.spec.whatwg.org/#idl-any"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-invalidstateerror\u2460"},{"id":"ref-for-invalidstateerror\u2461"},{"id":"ref-for-invalidstateerror\u2462"},{"id":"ref-for-invalidstateerror\u2463"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"7c983b6d": {"dfnID":"7c983b6d","dfnText":"RTCPeerConnection","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcpeerconnection"}],"title":"Unnumbered Section"},{"refs":[{"id":"ref-for-dom-rtcpeerconnection\u2460"}],"title":"2.1. Extension operation"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"87bc23a5": {"dfnID":"87bc23a5","dfnText":"add","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-add"}],"title":"2.2. Extension attribute"}],"url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-DOMString\u2460"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-DOMString\u2461"}],"title":"4.1.1. Members"},{"refs":[{"id":"ref-for-idl-DOMString\u2462"},{"id":"ref-for-idl-DOMString\u2463"},{"id":"ref-for-idl-DOMString\u2464"},{"id":"ref-for-idl-DOMString\u2465"}],"title":"4.7. Interfaces"},{"refs":[{"id":"ref-for-idl-DOMString\u2466"}],"title":"5. RTCRtpSender extension"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"888d7c65": {"dfnID":"888d7c65","dfnText":"deserialization steps","external":true,"refSections":[{"refs":[{"id":"ref-for-deserialization-steps"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-deserialization-steps\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"},{"id":"ref-for-Exposed\u2460"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-Exposed\u2462"}],"title":"4.6. RTCEncodedAudioFrame interface"},{"refs":[{"id":"ref-for-Exposed\u2463"},{"id":"ref-for-Exposed\u2464"},{"id":"ref-for-Exposed\u2465"},{"id":"ref-for-Exposed\u2466"}],"title":"4.7. Interfaces"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8c407366": {"dfnID":"8c407366","dfnText":"cancelable","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-cancelable"}],"title":"4.10. Events"}],"url":"https://dom.spec.whatwg.org/#dom-event-cancelable"},
"8c800cdf": {"dfnID":"8c800cdf","dfnText":"double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-double"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-double\u2460"}],"title":"4.5.1. Members"}],"url":"https://webidl.spec.whatwg.org/#idl-double"},
"8f5c2179": {"dfnID":"8f5c2179","dfnText":"a promise resolved with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-resolved-with"},{"id":"ref-for-a-promise-resolved-with\u2460"},{"id":"ref-for-a-promise-resolved-with\u2461"}],"title":"2.1.2. Stream processing"}],"url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"93b563b6": {"dfnID":"93b563b6","dfnText":"timestamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-videoframe-timestamp"}],"title":"4.3.1. Members"}],"url":"https://w3c.github.io/webcodecs/#dom-videoframe-timestamp"},
"9a517a7d": {"dfnID":"9a517a7d","dfnText":"queue a task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-task"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-queue-a-task\u2460"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-queue-a-task\u2461"},{"id":"ref-for-queue-a-task\u2462"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-queue-a-task\u2463"},{"id":"ref-for-queue-a-task\u2464"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"9aeb0a82": {"dfnID":"9aeb0a82","dfnText":"long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-long-long"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-long-long\u2460"}],"title":"4.3.1. Members"}],"url":"https://webidl.spec.whatwg.org/#idl-long-long"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-sequence\u2460"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-sequence\u2461"}],"title":"4.7. Interfaces"},{"refs":[{"id":"ref-for-idl-sequence\u2462"}],"title":"5. RTCRtpSender extension"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"9da834a1": {"dfnID":"9da834a1","dfnText":"StructuredSerializeWithTransfer","external":true,"refSections":[{"refs":[{"id":"ref-for-structuredserializewithtransfer"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-structuredserializewithtransfer\u2460"},{"id":"ref-for-structuredserializewithtransfer\u2461"},{"id":"ref-for-structuredserializewithtransfer\u2462"}],"title":"4.8. Operations"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"},
"9eda9b58": {"dfnID":"9eda9b58","dfnText":"NotFoundError","external":true,"refSections":[{"refs":[{"id":"ref-for-notfounderror"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://webidl.spec.whatwg.org/#notfounderror"},
"a307241e": {"dfnID":"a307241e","dfnText":"release (for WritableStreamDefaultWriter)","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestreamdefaultwriter-release"}],"title":"2.2. Extension attribute"}],"url":"https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"},{"id":"ref-for-in-parallel\u2460"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-in-parallel\u2461"}],"title":"3.2. Methods"},{"refs":[{"id":"ref-for-in-parallel\u2462"},{"id":"ref-for-in-parallel\u2463"}],"title":"4.11. KeyFrame Algorithms"},{"refs":[{"id":"ref-for-in-parallel\u2464"}],"title":"5.1. Extension operation"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"abstract-opdef-chain-transform-algorithm": {"dfnID":"abstract-opdef-chain-transform-algorithm","dfnText":"chain transform algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-chain-transform-algorithm"},{"id":"ref-for-abstract-opdef-chain-transform-algorithm\u2460"}],"title":"2.2. Extension attribute"}],"url":"#abstract-opdef-chain-transform-algorithm"},
"abstract-opdef-generate-key-frame-algorithm": {"dfnID":"abstract-opdef-generate-key-frame-algorithm","dfnText":"generate key frame algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-generate-key-frame-algorithm"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-abstract-opdef-generate-key-frame-algorithm\u2460"}],"title":"4.10. Events"},{"refs":[{"id":"ref-for-abstract-opdef-generate-key-frame-algorithm\u2461"}],"title":"5.1. Extension operation"}],"url":"#abstract-opdef-generate-key-frame-algorithm"},
"abstract-opdef-readencodeddata": {"dfnID":"abstract-opdef-readencodeddata","dfnText":"readEncodedData","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-readencodeddata"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-abstract-opdef-readencodeddata\u2460"},{"id":"ref-for-abstract-opdef-readencodeddata\u2461"}],"title":"2.1.2. Stream processing"}],"url":"#abstract-opdef-readencodeddata"},
"abstract-opdef-rtcrtptransform-association-steps": {"dfnID":"abstract-opdef-rtcrtptransform-association-steps","dfnText":"association steps","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-rtcrtptransform-association-steps"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-abstract-opdef-rtcrtptransform-association-steps\u2460"},{"id":"ref-for-abstract-opdef-rtcrtptransform-association-steps\u2461"}],"title":"4.8. Operations"}],"url":"#abstract-opdef-rtcrtptransform-association-steps"},
"abstract-opdef-send-request-key-frame-algorithm": {"dfnID":"abstract-opdef-send-request-key-frame-algorithm","dfnText":"send request key frame algorithm","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-send-request-key-frame-algorithm"}],"title":"4.8. Operations"}],"url":"#abstract-opdef-send-request-key-frame-algorithm"},
"abstract-opdef-writeencodeddata": {"dfnID":"abstract-opdef-writeencodeddata","dfnText":"writeEncodedData","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-writeencodeddata"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-abstract-opdef-writeencodeddata\u2460"},{"id":"ref-for-abstract-opdef-writeencodeddata\u2461"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-abstract-opdef-writeencodeddata\u2462"}],"title":"4.4.4. Serialization"}],"url":"#abstract-opdef-writeencodeddata"},
"b161d57f": {"dfnID":"b161d57f","dfnText":"RTCRtpSender","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpsender"},{"id":"ref-for-dom-rtcrtpsender\u2460"}],"title":"2. Specification"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2461"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2462"},{"id":"ref-for-dom-rtcrtpsender\u2463"},{"id":"ref-for-dom-rtcrtpsender\u2464"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2465"},{"id":"ref-for-dom-rtcrtpsender\u2466"},{"id":"ref-for-dom-rtcrtpsender\u2467"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2468"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2460\u24ea"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2460\u2460"},{"id":"ref-for-dom-rtcrtpsender\u2460\u2461"}],"title":"4.11. KeyFrame Algorithms"},{"refs":[{"id":"ref-for-dom-rtcrtpsender\u2460\u2462"},{"id":"ref-for-dom-rtcrtpsender\u2460\u2463"}],"title":"5. RTCRtpSender extension"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"},
"b21c2abd": {"dfnID":"b21c2abd","dfnText":"release (for ReadableStreamDefaultReader)","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestreamdefaultreader-release"}],"title":"2.2. Extension attribute"}],"url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-release"},
"b262501e": {"dfnID":"b262501e","dfnText":"reject","external":true,"refSections":[{"refs":[{"id":"ref-for-reject"},{"id":"ref-for-reject\u2460"}],"title":"3.2. Methods"}],"url":"https://webidl.spec.whatwg.org/#reject"},
"b8308563": {"dfnID":"b8308563","dfnText":"DedicatedWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-dedicatedworkerglobalscope"}],"title":"4.7. Interfaces"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"bc1e4fa1": {"dfnID":"bc1e4fa1","dfnText":"MediaStreamTrack","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediastreamtrack"}],"title":"Unnumbered Section"}],"url":"https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack"},
"bc5645aa": {"dfnID":"bc5645aa","dfnText":"octet","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-octet"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-octet\u2460"}],"title":"4.1.1. Members"}],"url":"https://webidl.spec.whatwg.org/#idl-octet"},
"bd45e189": {"dfnID":"bd45e189","dfnText":"Performance","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performance"},{"id":"ref-for-dom-performance\u2460"}],"title":"4.1.1. Members"}],"url":"https://w3c.github.io/hr-time/#dom-performance"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-promise\u2460"},{"id":"ref-for-idl-promise\u2461"}],"title":"4.7. Interfaces"},{"refs":[{"id":"ref-for-idl-promise\u2462"}],"title":"5. RTCRtpSender extension"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"bdcd112d": {"dfnID":"bdcd112d","dfnText":"bigint","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-bigint"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-bigint\u2460"}],"title":"3.2. Methods"}],"url":"https://webidl.spec.whatwg.org/#idl-bigint"},
"bf6531af": {"dfnID":"bf6531af","dfnText":"getting a reader","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-get-a-reader"}],"title":"2.2. Extension attribute"}],"url":"https://streams.spec.whatwg.org/#readablestream-get-a-reader"},
"bfc1c271": {"dfnID":"bfc1c271","dfnText":"Worker","external":true,"refSections":[{"refs":[{"id":"ref-for-worker"}],"title":"4.7. Interfaces"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#worker"},
"c01cbda0": {"dfnID":"c01cbda0","dfnText":"EnforceRange","external":true,"refSections":[{"refs":[{"id":"ref-for-EnforceRange"}],"title":"3. SFrameTransform"}],"url":"https://webidl.spec.whatwg.org/#EnforceRange"},
"c187d599": {"dfnID":"c187d599","dfnText":"sub-deserialization","external":true,"refSections":[{"refs":[{"id":"ref-for-sub-deserialization"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-sub-deserialization\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#sub-deserialization"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"},{"id":"ref-for-task-source\u2460"}],"title":"4.8. Operations"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c7574ff1": {"dfnID":"c7574ff1","dfnText":"transformAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-transformstream-set-up-transformalgorithm"}],"title":"3. SFrameTransform"}],"url":"https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm"},
"c891de74": {"dfnID":"c891de74","dfnText":"RTCConfiguration","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcconfiguration"}],"title":"2.1. Extension operation"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration"},
"cae6bf57": {"dfnID":"cae6bf57","dfnText":"InvalidModificationError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidmodificationerror"}],"title":"3.2. Methods"}],"url":"https://webidl.spec.whatwg.org/#invalidmodificationerror"},
"d04a8309": {"dfnID":"d04a8309","dfnText":"writeAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestream-set-up-writealgorithm"}],"title":"2.1.1. Stream creation"}],"url":"https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm"},
"d438bc09": {"dfnID":"d438bc09","dfnText":"set up (for ReadableStream)","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-readablestream-set-up\u2460"}],"title":"3. SFrameTransform"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"d54f5897": {"dfnID":"d54f5897","dfnText":"DataCloneError","external":true,"refSections":[{"refs":[{"id":"ref-for-datacloneerror"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-datacloneerror\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://webidl.spec.whatwg.org/#datacloneerror"},
"d61c5cab": {"dfnID":"d61c5cab","dfnText":"GenericTransformStream","external":true,"refSections":[{"refs":[{"id":"ref-for-generictransformstream"}],"title":"3. SFrameTransform"}],"url":"https://streams.spec.whatwg.org/#generictransformstream"},
"d76ab844": {"dfnID":"d76ab844","dfnText":"sub-serialization","external":true,"refSections":[{"refs":[{"id":"ref-for-sub-serialization"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-sub-serialization\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#sub-serialization"},
"dacde8b5": {"dfnID":"dacde8b5","dfnText":"a new promise","external":true,"refSections":[{"refs":[{"id":"ref-for-a-new-promise"}],"title":"3.2. Methods"}],"url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"dictdef-rtcencodedaudioframemetadata": {"dfnID":"dictdef-rtcencodedaudioframemetadata","dfnText":"RTCEncodedAudioFrameMetadata","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rtcencodedaudioframemetadata"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dictdef-rtcencodedaudioframemetadata\u2460"},{"id":"ref-for-dictdef-rtcencodedaudioframemetadata\u2461"}],"title":"4.6. RTCEncodedAudioFrame interface"}],"url":"#dictdef-rtcencodedaudioframemetadata"},
"dictdef-rtcencodedaudioframeoptions": {"dfnID":"dictdef-rtcencodedaudioframeoptions","dfnText":"RTCEncodedAudioFrameOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rtcencodedaudioframeoptions"}],"title":"4.6. RTCEncodedAudioFrame interface"}],"url":"#dictdef-rtcencodedaudioframeoptions"},
"dictdef-rtcencodedframemetadata": {"dfnID":"dictdef-rtcencodedframemetadata","dfnText":"RTCEncodedFrameMetadata","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rtcencodedframemetadata"}],"title":"4. RTCRtpScriptTransform"},{"refs":[{"id":"ref-for-dictdef-rtcencodedframemetadata\u2460"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dictdef-rtcencodedframemetadata\u2461"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dictdef-rtcencodedframemetadata\u2462"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"}],"url":"#dictdef-rtcencodedframemetadata"},
"dictdef-rtcencodedvideoframemetadata": {"dfnID":"dictdef-rtcencodedvideoframemetadata","dfnText":"RTCEncodedVideoFrameMetadata","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rtcencodedvideoframemetadata"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dictdef-rtcencodedvideoframemetadata\u2460"},{"id":"ref-for-dictdef-rtcencodedvideoframemetadata\u2461"}],"title":"4.4. RTCEncodedVideoFrame interface"}],"url":"#dictdef-rtcencodedvideoframemetadata"},
"dictdef-rtcencodedvideoframeoptions": {"dfnID":"dictdef-rtcencodedvideoframeoptions","dfnText":"RTCEncodedVideoFrameOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rtcencodedvideoframeoptions"}],"title":"4.4. RTCEncodedVideoFrame interface"}],"url":"#dictdef-rtcencodedvideoframeoptions"},
"dictdef-sframetransformerroreventinit": {"dfnID":"dictdef-sframetransformerroreventinit","dfnText":"SFrameTransformErrorEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-sframetransformerroreventinit"}],"title":"3. SFrameTransform"}],"url":"#dictdef-sframetransformerroreventinit"},
"dictdef-sframetransformoptions": {"dfnID":"dictdef-sframetransformoptions","dfnText":"SFrameTransformOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-sframetransformoptions"}],"title":"3. SFrameTransform"}],"url":"#dictdef-sframetransformoptions"},
"dom-dedicatedworkerglobalscope-onrtctransform": {"dfnID":"dom-dedicatedworkerglobalscope-onrtctransform","dfnText":"onrtctransform","external":false,"refSections":[],"url":"#dom-dedicatedworkerglobalscope-onrtctransform"},
"dom-keyframerequestevent-keyframerequestevent": {"dfnID":"dom-keyframerequestevent-keyframerequestevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-keyframerequestevent-keyframerequestevent"},
"dom-keyframerequestevent-keyframerequestevent-type-rid-rid": {"dfnID":"dom-keyframerequestevent-keyframerequestevent-type-rid-rid","dfnText":"rid","external":false,"refSections":[],"url":"#dom-keyframerequestevent-keyframerequestevent-type-rid-rid"},
"dom-keyframerequestevent-keyframerequestevent-type-rid-type": {"dfnID":"dom-keyframerequestevent-keyframerequestevent-type-rid-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-keyframerequestevent-keyframerequestevent-type-rid-type"},
"dom-keyframerequestevent-rid": {"dfnID":"dom-keyframerequestevent-rid","dfnText":"rid","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-keyframerequestevent-rid"}],"title":"4.10. Events"}],"url":"#dom-keyframerequestevent-rid"},
"dom-rtcencodedaudioframe-constructor": {"dfnID":"dom-rtcencodedaudioframe-constructor","dfnText":"constructor()","external":false,"refSections":[],"url":"#dom-rtcencodedaudioframe-constructor"},
"dom-rtcencodedaudioframe-data": {"dfnID":"dom-rtcencodedaudioframe-data","dfnText":"data","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedaudioframe-data"},{"id":"ref-for-dom-rtcencodedaudioframe-data\u2460"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-dom-rtcencodedaudioframe-data\u2461"}],"title":"4.6. RTCEncodedAudioFrame interface"}],"url":"#dom-rtcencodedaudioframe-data"},
"dom-rtcencodedaudioframe-getmetadata": {"dfnID":"dom-rtcencodedaudioframe-getmetadata","dfnText":"getMetadata()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedaudioframe-getmetadata"}],"title":"4.6. RTCEncodedAudioFrame interface"}],"url":"#dom-rtcencodedaudioframe-getmetadata"},
"dom-rtcencodedaudioframe-rtcencodedaudioframe": {"dfnID":"dom-rtcencodedaudioframe-rtcencodedaudioframe","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-rtcencodedaudioframe-rtcencodedaudioframe"},
"dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-options": {"dfnID":"dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-options"},
"dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-originalframe": {"dfnID":"dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-originalframe","dfnText":"originalFrame","external":false,"refSections":[],"url":"#dom-rtcencodedaudioframe-rtcencodedaudioframe-originalframe-options-originalframe"},
"dom-rtcencodedaudioframemetadata-audiolevel": {"dfnID":"dom-rtcencodedaudioframemetadata-audiolevel","dfnText":"audioLevel","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedaudioframemetadata-audiolevel"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"}],"url":"#dom-rtcencodedaudioframemetadata-audiolevel"},
"dom-rtcencodedaudioframemetadata-sequencenumber": {"dfnID":"dom-rtcencodedaudioframemetadata-sequencenumber","dfnText":"sequenceNumber","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedaudioframemetadata-sequencenumber"}],"title":"4.5. RTCEncodedAudioFrameMetadata dictionary"}],"url":"#dom-rtcencodedaudioframemetadata-sequencenumber"},
"dom-rtcencodedaudioframeoptions-metadata": {"dfnID":"dom-rtcencodedaudioframeoptions-metadata","dfnText":"metadata","external":false,"refSections":[],"url":"#dom-rtcencodedaudioframeoptions-metadata"},
"dom-rtcencodedframemetadata-capturetime": {"dfnID":"dom-rtcencodedframemetadata-capturetime","dfnText":"captureTime","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-capturetime"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-capturetime\u2460"}],"title":"4.1.1. Members"}],"url":"#dom-rtcencodedframemetadata-capturetime"},
"dom-rtcencodedframemetadata-contributingsources": {"dfnID":"dom-rtcencodedframemetadata-contributingsources","dfnText":"contributingSources","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-contributingsources"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"}],"url":"#dom-rtcencodedframemetadata-contributingsources"},
"dom-rtcencodedframemetadata-mimetype": {"dfnID":"dom-rtcencodedframemetadata-mimetype","dfnText":"mimeType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-mimetype"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-mimetype\u2460"}],"title":"4.4.2. Members"},{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-mimetype\u2461"}],"title":"4.6.2. Members"}],"url":"#dom-rtcencodedframemetadata-mimetype"},
"dom-rtcencodedframemetadata-payloadtype": {"dfnID":"dom-rtcencodedframemetadata-payloadtype","dfnText":"payloadType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-payloadtype"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"}],"url":"#dom-rtcencodedframemetadata-payloadtype"},
"dom-rtcencodedframemetadata-receivetime": {"dfnID":"dom-rtcencodedframemetadata-receivetime","dfnText":"receiveTime","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-receivetime"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"}],"url":"#dom-rtcencodedframemetadata-receivetime"},
"dom-rtcencodedframemetadata-rtptimestamp": {"dfnID":"dom-rtcencodedframemetadata-rtptimestamp","dfnText":"rtpTimestamp","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-rtptimestamp"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"}],"url":"#dom-rtcencodedframemetadata-rtptimestamp"},
"dom-rtcencodedframemetadata-sendercapturetimeoffset": {"dfnID":"dom-rtcencodedframemetadata-sendercapturetimeoffset","dfnText":"senderCaptureTimeOffset","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-sendercapturetimeoffset"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-sendercapturetimeoffset\u2460"}],"title":"4.1.1. Members"}],"url":"#dom-rtcencodedframemetadata-sendercapturetimeoffset"},
"dom-rtcencodedframemetadata-synchronizationsource": {"dfnID":"dom-rtcencodedframemetadata-synchronizationsource","dfnText":"synchronizationSource","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedframemetadata-synchronizationsource"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"}],"url":"#dom-rtcencodedframemetadata-synchronizationsource"},
"dom-rtcencodedvideoframe-constructor": {"dfnID":"dom-rtcencodedvideoframe-constructor","dfnText":"constructor()","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframe-constructor"},
"dom-rtcencodedvideoframe-data": {"dfnID":"dom-rtcencodedvideoframe-data","dfnText":"data","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframe-data"},{"id":"ref-for-dom-rtcencodedvideoframe-data\u2460"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-dom-rtcencodedvideoframe-data\u2461"}],"title":"4.4. RTCEncodedVideoFrame interface"}],"url":"#dom-rtcencodedvideoframe-data"},
"dom-rtcencodedvideoframe-getmetadata": {"dfnID":"dom-rtcencodedvideoframe-getmetadata","dfnText":"getMetadata()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframe-getmetadata"}],"title":"4.4. RTCEncodedVideoFrame interface"}],"url":"#dom-rtcencodedvideoframe-getmetadata"},
"dom-rtcencodedvideoframe-rtcencodedvideoframe": {"dfnID":"dom-rtcencodedvideoframe-rtcencodedvideoframe","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframe-rtcencodedvideoframe"},
"dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-options": {"dfnID":"dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-options"},
"dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-originalframe": {"dfnID":"dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-originalframe","dfnText":"originalFrame","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframe-rtcencodedvideoframe-originalframe-options-originalframe"},
"dom-rtcencodedvideoframe-type": {"dfnID":"dom-rtcencodedvideoframe-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframe-type"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-dom-rtcencodedvideoframe-type\u2460"},{"id":"ref-for-dom-rtcencodedvideoframe-type\u2461"}],"title":"4.4.4. Serialization"}],"url":"#dom-rtcencodedvideoframe-type"},
"dom-rtcencodedvideoframemetadata-dependencies": {"dfnID":"dom-rtcencodedvideoframemetadata-dependencies","dfnText":"dependencies","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframemetadata-dependencies"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"}],"url":"#dom-rtcencodedvideoframemetadata-dependencies"},
"dom-rtcencodedvideoframemetadata-frameid": {"dfnID":"dom-rtcencodedvideoframemetadata-frameid","dfnText":"frameId","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframemetadata-frameid"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"}],"url":"#dom-rtcencodedvideoframemetadata-frameid"},
"dom-rtcencodedvideoframemetadata-height": {"dfnID":"dom-rtcencodedvideoframemetadata-height","dfnText":"height","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframemetadata-height"},
"dom-rtcencodedvideoframemetadata-spatialindex": {"dfnID":"dom-rtcencodedvideoframemetadata-spatialindex","dfnText":"spatialIndex","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframemetadata-spatialindex"},
"dom-rtcencodedvideoframemetadata-temporalindex": {"dfnID":"dom-rtcencodedvideoframemetadata-temporalindex","dfnText":"temporalIndex","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframemetadata-temporalindex"},
"dom-rtcencodedvideoframemetadata-timestamp": {"dfnID":"dom-rtcencodedvideoframemetadata-timestamp","dfnText":"timestamp","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframemetadata-timestamp"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"}],"url":"#dom-rtcencodedvideoframemetadata-timestamp"},
"dom-rtcencodedvideoframemetadata-width": {"dfnID":"dom-rtcencodedvideoframemetadata-width","dfnText":"width","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframemetadata-width"},
"dom-rtcencodedvideoframeoptions-metadata": {"dfnID":"dom-rtcencodedvideoframeoptions-metadata","dfnText":"metadata","external":false,"refSections":[],"url":"#dom-rtcencodedvideoframeoptions-metadata"},
"dom-rtcencodedvideoframetype-delta": {"dfnID":"dom-rtcencodedvideoframetype-delta","dfnText":"delta","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframetype-delta"}],"title":"4.2. RTCEncodedVideoFrameType dictionary"}],"url":"#dom-rtcencodedvideoframetype-delta"},
"dom-rtcencodedvideoframetype-empty": {"dfnID":"dom-rtcencodedvideoframetype-empty","dfnText":"empty","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframetype-empty"}],"title":"4.2. RTCEncodedVideoFrameType dictionary"}],"url":"#dom-rtcencodedvideoframetype-empty"},
"dom-rtcencodedvideoframetype-key": {"dfnID":"dom-rtcencodedvideoframetype-key","dfnText":"key","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcencodedvideoframetype-key"}],"title":"4.2. RTCEncodedVideoFrameType dictionary"},{"refs":[{"id":"ref-for-dom-rtcencodedvideoframetype-key\u2460"}],"title":"4.11. KeyFrame Algorithms"}],"url":"#dom-rtcencodedvideoframetype-key"},
"dom-rtcrtpscripttransform-generatekeyframe": {"dfnID":"dom-rtcrtpscripttransform-generatekeyframe","dfnText":"generateKeyFrame(rid)","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-generatekeyframe"},
"dom-rtcrtpscripttransform-onbandwidthestimate": {"dfnID":"dom-rtcrtpscripttransform-onbandwidthestimate","dfnText":"onbandwidthestimate","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-onbandwidthestimate"},
"dom-rtcrtpscripttransform-onkeyframerequest": {"dfnID":"dom-rtcrtpscripttransform-onkeyframerequest","dfnText":"onkeyframerequest","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-onkeyframerequest"},
"dom-rtcrtpscripttransform-readable": {"dfnID":"dom-rtcrtpscripttransform-readable","dfnText":"readable","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-readable"},
"dom-rtcrtpscripttransform-rtcrtpscripttransform": {"dfnID":"dom-rtcrtpscripttransform-rtcrtpscripttransform","dfnText":"new RTCRtpScriptTransform(worker, options, transfer)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpscripttransform-rtcrtpscripttransform"}],"title":"4.7. Interfaces"}],"url":"#dom-rtcrtpscripttransform-rtcrtpscripttransform"},
"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options": {"dfnID":"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"},
"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer": {"dfnID":"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer","dfnText":"transfer","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"},
"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker": {"dfnID":"dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker","dfnText":"worker","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"},
"dom-rtcrtpscripttransform-sendkeyframerequest": {"dfnID":"dom-rtcrtpscripttransform-sendkeyframerequest","dfnText":"sendKeyFrameRequest()","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-sendkeyframerequest"},
"dom-rtcrtpscripttransform-writable": {"dfnID":"dom-rtcrtpscripttransform-writable","dfnText":"writable","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransform-writable"},
"dom-rtcrtpscripttransformer-generatekeyframe": {"dfnID":"dom-rtcrtpscripttransformer-generatekeyframe","dfnText":"generateKeyFrame","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-generatekeyframe"},
"dom-rtcrtpscripttransformer-generatekeyframe-rid-rid": {"dfnID":"dom-rtcrtpscripttransformer-generatekeyframe-rid-rid","dfnText":"rid","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"},
"dom-rtcrtpscripttransformer-onkeyframerequest": {"dfnID":"dom-rtcrtpscripttransformer-onkeyframerequest","dfnText":"onkeyframerequest","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-onkeyframerequest"},
"dom-rtcrtpscripttransformer-options": {"dfnID":"dom-rtcrtpscripttransformer-options","dfnText":"options","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpscripttransformer-options"}],"title":"4.7. Interfaces"}],"url":"#dom-rtcrtpscripttransformer-options"},
"dom-rtcrtpscripttransformer-readable": {"dfnID":"dom-rtcrtpscripttransformer-readable","dfnText":"readable","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-readable"},
"dom-rtcrtpscripttransformer-sendkeyframerequest": {"dfnID":"dom-rtcrtpscripttransformer-sendkeyframerequest","dfnText":"sendKeyFrameRequest","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-sendkeyframerequest"},
"dom-rtcrtpscripttransformer-writable": {"dfnID":"dom-rtcrtpscripttransformer-writable","dfnText":"writable","external":false,"refSections":[],"url":"#dom-rtcrtpscripttransformer-writable"},
"dom-rtcrtpsender-generatekeyframe": {"dfnID":"dom-rtcrtpsender-generatekeyframe","dfnText":"generateKeyFrame(rids)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpsender-generatekeyframe"}],"title":"5. RTCRtpSender extension"}],"url":"#dom-rtcrtpsender-generatekeyframe"},
"dom-rtcrtpsender-generatekeyframe-rids-rids": {"dfnID":"dom-rtcrtpsender-generatekeyframe-rids-rids","dfnText":"rids","external":false,"refSections":[],"url":"#dom-rtcrtpsender-generatekeyframe-rids-rids"},
"dom-rtcrtpsender-transform": {"dfnID":"dom-rtcrtpsender-transform","dfnText":"transform","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpsender-transform"},{"id":"ref-for-dom-rtcrtpsender-transform\u2460"}],"title":"2. Specification"}],"url":"#dom-rtcrtpsender-transform"},
"dom-rtctransformevent-transformer": {"dfnID":"dom-rtctransformevent-transformer","dfnText":"transformer","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-rtctransformevent-transformer"}],"title":"4.8. Operations"}],"url":"#dom-rtctransformevent-transformer"},
"dom-sframetransform-onerror": {"dfnID":"dom-sframetransform-onerror","dfnText":"onerror","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransform-onerror"},{"id":"ref-for-dom-sframetransform-onerror\u2460"},{"id":"ref-for-dom-sframetransform-onerror\u2461"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransform-onerror"},
"dom-sframetransform-setencryptionkey": {"dfnID":"dom-sframetransform-setencryptionkey","dfnText":"setEncryptionKey(key, keyID)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransform-setencryptionkey"}],"title":"3. SFrameTransform"}],"url":"#dom-sframetransform-setencryptionkey"},
"dom-sframetransform-setencryptionkey-key-keyid-key": {"dfnID":"dom-sframetransform-setencryptionkey-key-keyid-key","dfnText":"key","external":false,"refSections":[],"url":"#dom-sframetransform-setencryptionkey-key-keyid-key"},
"dom-sframetransform-setencryptionkey-key-keyid-keyid": {"dfnID":"dom-sframetransform-setencryptionkey-key-keyid-keyid","dfnText":"keyID","external":false,"refSections":[],"url":"#dom-sframetransform-setencryptionkey-key-keyid-keyid"},
"dom-sframetransform-sframetransform": {"dfnID":"dom-sframetransform-sframetransform","dfnText":"new SFrameTransform(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransform-sframetransform"}],"title":"3. SFrameTransform"}],"url":"#dom-sframetransform-sframetransform"},
"dom-sframetransform-sframetransform-options-options": {"dfnID":"dom-sframetransform-sframetransform-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-sframetransform-sframetransform-options-options"},
"dom-sframetransformerrorevent-errortype": {"dfnID":"dom-sframetransformerrorevent-errortype","dfnText":"errorType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerrorevent-errortype"},{"id":"ref-for-dom-sframetransformerrorevent-errortype\u2460"},{"id":"ref-for-dom-sframetransformerrorevent-errortype\u2461"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerrorevent-errortype"},
"dom-sframetransformerrorevent-frame": {"dfnID":"dom-sframetransformerrorevent-frame","dfnText":"frame","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerrorevent-frame"},{"id":"ref-for-dom-sframetransformerrorevent-frame\u2460"},{"id":"ref-for-dom-sframetransformerrorevent-frame\u2461"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerrorevent-frame"},
"dom-sframetransformerrorevent-keyid": {"dfnID":"dom-sframetransformerrorevent-keyid","dfnText":"keyID","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerrorevent-keyid"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerrorevent-keyid"},
"dom-sframetransformerrorevent-sframetransformerrorevent": {"dfnID":"dom-sframetransformerrorevent-sframetransformerrorevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-sframetransformerrorevent-sframetransformerrorevent"},
"dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"},
"dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type": {"dfnID":"dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"},
"dom-sframetransformerroreventinit-errortype": {"dfnID":"dom-sframetransformerroreventinit-errortype","dfnText":"errorType","external":false,"refSections":[],"url":"#dom-sframetransformerroreventinit-errortype"},
"dom-sframetransformerroreventinit-frame": {"dfnID":"dom-sframetransformerroreventinit-frame","dfnText":"frame","external":false,"refSections":[],"url":"#dom-sframetransformerroreventinit-frame"},
"dom-sframetransformerroreventinit-keyid": {"dfnID":"dom-sframetransformerroreventinit-keyid","dfnText":"keyID","external":false,"refSections":[],"url":"#dom-sframetransformerroreventinit-keyid"},
"dom-sframetransformerroreventtype-authentication": {"dfnID":"dom-sframetransformerroreventtype-authentication","dfnText":"\"authentication\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerroreventtype-authentication"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerroreventtype-authentication"},
"dom-sframetransformerroreventtype-keyid": {"dfnID":"dom-sframetransformerroreventtype-keyid","dfnText":"\"keyID\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerroreventtype-keyid"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerroreventtype-keyid"},
"dom-sframetransformerroreventtype-syntax": {"dfnID":"dom-sframetransformerroreventtype-syntax","dfnText":"\"syntax\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformerroreventtype-syntax"}],"title":"3.1. Algorithm"}],"url":"#dom-sframetransformerroreventtype-syntax"},
"dom-sframetransformoptions-role": {"dfnID":"dom-sframetransformoptions-role","dfnText":"role","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-sframetransformoptions-role"}],"title":"3. SFrameTransform"}],"url":"#dom-sframetransformoptions-role"},
"dom-sframetransformrole-decrypt": {"dfnID":"dom-sframetransformrole-decrypt","dfnText":"\"decrypt\"","external":false,"refSections":[],"url":"#dom-sframetransformrole-decrypt"},
"dom-sframetransformrole-encrypt": {"dfnID":"dom-sframetransformrole-encrypt","dfnText":"\"encrypt\"","external":false,"refSections":[],"url":"#dom-sframetransformrole-encrypt"},
"e4db230f": {"dfnID":"e4db230f","dfnText":"RTCRtpReceiver","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpreceiver"},{"id":"ref-for-dom-rtcrtpreceiver\u2460"}],"title":"2. Specification"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2461"}],"title":"2.1.1. Stream creation"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2462"},{"id":"ref-for-dom-rtcrtpreceiver\u2463"},{"id":"ref-for-dom-rtcrtpreceiver\u2464"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2465"},{"id":"ref-for-dom-rtcrtpreceiver\u2466"},{"id":"ref-for-dom-rtcrtpreceiver\u2467"}],"title":"2.2. Extension attribute"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2468"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2460\u24ea"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-dom-rtcrtpreceiver\u2460\u2460"}],"title":"4.11. KeyFrame Algorithms"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver"},
"e7cb09fb": {"dfnID":"e7cb09fb","dfnText":"StructuredDeserializeWithTransfer","external":true,"refSections":[{"refs":[{"id":"ref-for-structureddeserializewithtransfer"}],"title":"2.1.2. Stream processing"},{"refs":[{"id":"ref-for-structureddeserializewithtransfer\u2460"},{"id":"ref-for-structureddeserializewithtransfer\u2461"},{"id":"ref-for-structureddeserializewithtransfer\u2462"}],"title":"4.8. Operations"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"},
"e97a9688": {"dfnID":"e97a9688","dfnText":"unsigned long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long"},{"id":"ref-for-idl-unsigned-long\u2460"},{"id":"ref-for-idl-unsigned-long\u2461"}],"title":"4.1. RTCEncodedFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-unsigned-long\u2462"},{"id":"ref-for-idl-unsigned-long\u2463"}],"title":"4.1.1. Members"},{"refs":[{"id":"ref-for-idl-unsigned-long\u2464"},{"id":"ref-for-idl-unsigned-long\u2465"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"eb5c4be3": {"dfnID":"eb5c4be3","dfnText":"Serializable","external":true,"refSections":[{"refs":[{"id":"ref-for-serializable"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-serializable\u2460"}],"title":"4.6. RTCEncodedAudioFrame interface"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#serializable"},
"ec878a66": {"dfnID":"ec878a66","dfnText":"RangeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-rangeerror"}],"title":"3.2. Methods"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"},
"efd1ec5d": {"dfnID":"efd1ec5d","dfnText":"object","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-object"}],"title":"4.7. Interfaces"}],"url":"https://webidl.spec.whatwg.org/#idl-object"},
"enumdef-rtcencodedvideoframetype": {"dfnID":"enumdef-rtcencodedvideoframetype","dfnText":"RTCEncodedVideoFrameType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-rtcencodedvideoframetype"}],"title":"4.2. RTCEncodedVideoFrameType dictionary"},{"refs":[{"id":"ref-for-enumdef-rtcencodedvideoframetype\u2460"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-enumdef-rtcencodedvideoframetype\u2461"}],"title":"4.4.2. Members"}],"url":"#enumdef-rtcencodedvideoframetype"},
"enumdef-sframetransformerroreventtype": {"dfnID":"enumdef-sframetransformerroreventtype","dfnText":"SFrameTransformErrorEventType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-sframetransformerroreventtype"},{"id":"ref-for-enumdef-sframetransformerroreventtype\u2460"}],"title":"3. SFrameTransform"}],"url":"#enumdef-sframetransformerroreventtype"},
"enumdef-sframetransformrole": {"dfnID":"enumdef-sframetransformrole","dfnText":"SFrameTransformRole","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-sframetransformrole"}],"title":"3. SFrameTransform"}],"url":"#enumdef-sframetransformrole"},
"eventdef-dedicatedworkerglobalscope-rtctransform": {"dfnID":"eventdef-dedicatedworkerglobalscope-rtctransform","dfnText":"rtctransform","external":false,"refSections":[],"url":"#eventdef-dedicatedworkerglobalscope-rtctransform"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-eventhandler\u2460"},{"id":"ref-for-eventhandler\u2461"}],"title":"4.7. Interfaces"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f14b47b8": {"dfnID":"f14b47b8","dfnText":"unsigned long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long-long"}],"title":"3. SFrameTransform"},{"refs":[{"id":"ref-for-idl-unsigned-long-long\u2460"},{"id":"ref-for-idl-unsigned-long-long\u2461"}],"title":"4.3. RTCEncodedVideoFrameMetadata dictionary"},{"refs":[{"id":"ref-for-idl-unsigned-long-long\u2462"}],"title":"4.3.1. Members"},{"refs":[{"id":"ref-for-idl-unsigned-long-long\u2463"}],"title":"4.7. Interfaces"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"f2f85335": {"dfnID":"f2f85335","dfnText":"structuredClone(value, options)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-structuredclone"}],"title":"4.4.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone"},
"f32dc6c1": {"dfnID":"f32dc6c1","dfnText":"serialization steps","external":true,"refSections":[{"refs":[{"id":"ref-for-serialization-steps"}],"title":"4.4.4. Serialization"},{"refs":[{"id":"ref-for-serialization-steps\u2460"}],"title":"4.6.4. Serialization"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps"},
"f4acb816": {"dfnID":"f4acb816","dfnText":"getting a writer","external":true,"refSections":[{"refs":[{"id":"ref-for-writablestream-get-a-writer"}],"title":"2.2. Extension attribute"}],"url":"https://streams.spec.whatwg.org/#writablestream-get-a-writer"},
"keyframerequestevent": {"dfnID":"keyframerequestevent","dfnText":"KeyFrameRequestEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-keyframerequestevent"},{"id":"ref-for-keyframerequestevent\u2460"},{"id":"ref-for-keyframerequestevent\u2461"}],"title":"4.10. Events"}],"url":"#keyframerequestevent"},
"rtcencodedaudioframe": {"dfnID":"rtcencodedaudioframe","dfnText":"RTCEncodedAudioFrame","external":false,"refSections":[{"refs":[{"id":"ref-for-rtcencodedaudioframe"},{"id":"ref-for-rtcencodedaudioframe\u2460"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-rtcencodedaudioframe\u2461"},{"id":"ref-for-rtcencodedaudioframe\u2462"}],"title":"4.6. RTCEncodedAudioFrame interface"},{"refs":[{"id":"ref-for-rtcencodedaudioframe\u2463"}],"title":"4.6.1. Constructor"},{"refs":[{"id":"ref-for-rtcencodedaudioframe\u2464"}],"title":"4.6.4. Serialization"}],"url":"#rtcencodedaudioframe"},
"rtcencodedvideoframe": {"dfnID":"rtcencodedvideoframe","dfnText":"RTCEncodedVideoFrame","external":false,"refSections":[{"refs":[{"id":"ref-for-rtcencodedvideoframe"},{"id":"ref-for-rtcencodedvideoframe\u2460"}],"title":"3.1. Algorithm"},{"refs":[{"id":"ref-for-rtcencodedvideoframe\u2461"},{"id":"ref-for-rtcencodedvideoframe\u2462"}],"title":"4.4. RTCEncodedVideoFrame interface"},{"refs":[{"id":"ref-for-rtcencodedvideoframe\u2463"}],"title":"4.4.1. Constructor"},{"refs":[{"id":"ref-for-rtcencodedvideoframe\u2464"}],"title":"4.4.4. Serialization"}],"url":"#rtcencodedvideoframe"},
"rtcrtpscripttransform": {"dfnID":"rtcrtpscripttransform","dfnText":"RTCRtpScriptTransform","external":false,"refSections":[{"refs":[{"id":"ref-for-rtcrtpscripttransform"}],"title":"2. Specification"},{"refs":[{"id":"ref-for-rtcrtpscripttransform\u2460"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-rtcrtpscripttransform\u2461"},{"id":"ref-for-rtcrtpscripttransform\u2462"}],"title":"4.9. Attributes"}],"url":"#rtcrtpscripttransform"},
"rtcrtpscripttransformer": {"dfnID":"rtcrtpscripttransformer","dfnText":"RTCRtpScriptTransformer","external":false,"refSections":[{"refs":[{"id":"ref-for-rtcrtpscripttransformer"}],"title":"4.7. Interfaces"},{"refs":[{"id":"ref-for-rtcrtpscripttransformer\u2460"},{"id":"ref-for-rtcrtpscripttransformer\u2461"}],"title":"4.8. Operations"},{"refs":[{"id":"ref-for-rtcrtpscripttransformer\u2462"},{"id":"ref-for-rtcrtpscripttransformer\u2463"},{"id":"ref-for-rtcrtpscripttransformer\u2464"}],"title":"4.9. Attributes"},{"refs":[{"id":"ref-for-rtcrtpscripttransformer\u2465"},{"id":"ref-for-rtcrtpscripttransformer\u2466"}],"title":"4.10. Events"},{"refs":[{"id":"ref-for-rtcrtpscripttransformer\u2467"},{"id":"ref-for-rtcrtpscripttransformer\u2468"}],"title":"4.11. KeyFrame Algorithms"},{"refs":[{"id":"ref-for-rtcrtpscripttransformer\u2460\u24ea"}],"title":"5. RTCRtpSender extension"}],"url":"#rtcrtpscripttransformer"},
"rtctransformevent": {"dfnID":"rtctransformevent","dfnText":"RTCTransformEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-rtctransformevent"}],"title":"4.8. Operations"}],"url":"#rtctransformevent"},
"sframetransform": {"dfnID":"sframetransform","dfnText":"SFrameTransform","external":false,"refSections":[{"refs":[{"id":"ref-for-sframetransform"}],"title":"2. Specification"},{"refs":[{"id":"ref-for-sframetransform\u2460"}],"title":"3. SFrameTransform"}],"url":"#sframetransform"},
"sframetransformerrorevent": {"dfnID":"sframetransformerrorevent","dfnText":"SFrameTransformErrorEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-sframetransformerrorevent"},{"id":"ref-for-sframetransformerrorevent\u2460"},{"id":"ref-for-sframetransformerrorevent\u2461"}],"title":"3.1. Algorithm"}],"url":"#sframetransformerrorevent"},
"typedefdef-cryptokeyid": {"dfnID":"typedefdef-cryptokeyid","dfnText":"CryptoKeyID","external":false,"refSections":[{"refs":[{"id":"ref-for-typedefdef-cryptokeyid"},{"id":"ref-for-typedefdef-cryptokeyid\u2460"},{"id":"ref-for-typedefdef-cryptokeyid\u2461"}],"title":"3. SFrameTransform"}],"url":"#typedefdef-cryptokeyid"},
"typedefdef-rtcrtptransform": {"dfnID":"typedefdef-rtcrtptransform","dfnText":"RTCRtpTransform","external":false,"refSections":[{"refs":[{"id":"ref-for-typedefdef-rtcrtptransform"},{"id":"ref-for-typedefdef-rtcrtptransform\u2460"}],"title":"2. Specification"}],"url":"#typedefdef-rtcrtptransform"},
"typedefdef-smallcryptokeyid": {"dfnID":"typedefdef-smallcryptokeyid","dfnText":"SmallCryptoKeyID","external":false,"refSections":[{"refs":[{"id":"ref-for-typedefdef-smallcryptokeyid"}],"title":"3. SFrameTransform"}],"url":"#typedefdef-smallcryptokeyid"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#abstract-opdef-chain-transform-algorithm": {"displayText":"chain transform algorithm","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"chain transform algorithm","type":"abstract-op","url":"#abstract-opdef-chain-transform-algorithm"},
"#abstract-opdef-generate-key-frame-algorithm": {"displayText":"generate key frame algorithm","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"generate key frame algorithm","type":"abstract-op","url":"#abstract-opdef-generate-key-frame-algorithm"},
"#abstract-opdef-readencodeddata": {"displayText":"readEncodedData","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"readEncodedData","type":"abstract-op","url":"#abstract-opdef-readencodeddata"},
"#abstract-opdef-rtcrtptransform-association-steps": {"displayText":"association steps","export":true,"for_":["RTCRtpTransform"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"association steps","type":"abstract-op","url":"#abstract-opdef-rtcrtptransform-association-steps"},
"#abstract-opdef-send-request-key-frame-algorithm": {"displayText":"send request key frame algorithm","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"send request key frame algorithm","type":"abstract-op","url":"#abstract-opdef-send-request-key-frame-algorithm"},
"#abstract-opdef-writeencodeddata": {"displayText":"writeEncodedData","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"writeEncodedData","type":"abstract-op","url":"#abstract-opdef-writeencodeddata"},
"#dictdef-rtcencodedaudioframemetadata": {"displayText":"RTCEncodedAudioFrameMetadata","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedAudioFrameMetadata","type":"dictionary","url":"#dictdef-rtcencodedaudioframemetadata"},
"#dictdef-rtcencodedaudioframeoptions": {"displayText":"RTCEncodedAudioFrameOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedAudioFrameOptions","type":"dictionary","url":"#dictdef-rtcencodedaudioframeoptions"},
"#dictdef-rtcencodedframemetadata": {"displayText":"RTCEncodedFrameMetadata","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedFrameMetadata","type":"dictionary","url":"#dictdef-rtcencodedframemetadata"},
"#dictdef-rtcencodedvideoframemetadata": {"displayText":"RTCEncodedVideoFrameMetadata","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedVideoFrameMetadata","type":"dictionary","url":"#dictdef-rtcencodedvideoframemetadata"},
"#dictdef-rtcencodedvideoframeoptions": {"displayText":"RTCEncodedVideoFrameOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedVideoFrameOptions","type":"dictionary","url":"#dictdef-rtcencodedvideoframeoptions"},
"#dictdef-sframetransformerroreventinit": {"displayText":"SFrameTransformErrorEventInit","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransformErrorEventInit","type":"dictionary","url":"#dictdef-sframetransformerroreventinit"},
"#dictdef-sframetransformoptions": {"displayText":"SFrameTransformOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransformOptions","type":"dictionary","url":"#dictdef-sframetransformoptions"},
"#dom-keyframerequestevent-rid": {"displayText":"rid","export":true,"for_":["KeyFrameRequestEvent"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"rid","type":"attribute","url":"#dom-keyframerequestevent-rid"},
"#dom-rtcencodedaudioframe-data": {"displayText":"data","export":true,"for_":["RTCEncodedAudioFrame"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"data","type":"attribute","url":"#dom-rtcencodedaudioframe-data"},
"#dom-rtcencodedaudioframe-getmetadata": {"displayText":"getMetadata()","export":true,"for_":["RTCEncodedAudioFrame"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"getMetadata()","type":"method","url":"#dom-rtcencodedaudioframe-getmetadata"},
"#dom-rtcencodedaudioframemetadata-audiolevel": {"displayText":"audioLevel","export":true,"for_":["RTCEncodedAudioFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"audioLevel","type":"dict-member","url":"#dom-rtcencodedaudioframemetadata-audiolevel"},
"#dom-rtcencodedaudioframemetadata-sequencenumber": {"displayText":"sequenceNumber","export":true,"for_":["RTCEncodedAudioFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"sequenceNumber","type":"dict-member","url":"#dom-rtcencodedaudioframemetadata-sequencenumber"},
"#dom-rtcencodedframemetadata-capturetime": {"displayText":"captureTime","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"captureTime","type":"dict-member","url":"#dom-rtcencodedframemetadata-capturetime"},
"#dom-rtcencodedframemetadata-contributingsources": {"displayText":"contributingSources","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"contributingSources","type":"dict-member","url":"#dom-rtcencodedframemetadata-contributingsources"},
"#dom-rtcencodedframemetadata-mimetype": {"displayText":"mimeType","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"mimeType","type":"dict-member","url":"#dom-rtcencodedframemetadata-mimetype"},
"#dom-rtcencodedframemetadata-payloadtype": {"displayText":"payloadType","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"payloadType","type":"dict-member","url":"#dom-rtcencodedframemetadata-payloadtype"},
"#dom-rtcencodedframemetadata-receivetime": {"displayText":"receiveTime","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"receiveTime","type":"dict-member","url":"#dom-rtcencodedframemetadata-receivetime"},
"#dom-rtcencodedframemetadata-rtptimestamp": {"displayText":"rtpTimestamp","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"rtpTimestamp","type":"dict-member","url":"#dom-rtcencodedframemetadata-rtptimestamp"},
"#dom-rtcencodedframemetadata-sendercapturetimeoffset": {"displayText":"senderCaptureTimeOffset","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"senderCaptureTimeOffset","type":"dict-member","url":"#dom-rtcencodedframemetadata-sendercapturetimeoffset"},
"#dom-rtcencodedframemetadata-synchronizationsource": {"displayText":"synchronizationSource","export":true,"for_":["RTCEncodedFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"synchronizationSource","type":"dict-member","url":"#dom-rtcencodedframemetadata-synchronizationsource"},
"#dom-rtcencodedvideoframe-data": {"displayText":"data","export":true,"for_":["RTCEncodedVideoFrame"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"data","type":"attribute","url":"#dom-rtcencodedvideoframe-data"},
"#dom-rtcencodedvideoframe-getmetadata": {"displayText":"getMetadata()","export":true,"for_":["RTCEncodedVideoFrame"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"getMetadata()","type":"method","url":"#dom-rtcencodedvideoframe-getmetadata"},
"#dom-rtcencodedvideoframe-type": {"displayText":"type","export":true,"for_":["RTCEncodedVideoFrame"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"type","type":"attribute","url":"#dom-rtcencodedvideoframe-type"},
"#dom-rtcencodedvideoframemetadata-dependencies": {"displayText":"dependencies","export":true,"for_":["RTCEncodedVideoFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"dependencies","type":"dict-member","url":"#dom-rtcencodedvideoframemetadata-dependencies"},
"#dom-rtcencodedvideoframemetadata-frameid": {"displayText":"frameId","export":true,"for_":["RTCEncodedVideoFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"frameId","type":"dict-member","url":"#dom-rtcencodedvideoframemetadata-frameid"},
"#dom-rtcencodedvideoframemetadata-timestamp": {"displayText":"timestamp","export":true,"for_":["RTCEncodedVideoFrameMetadata"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"timestamp","type":"dict-member","url":"#dom-rtcencodedvideoframemetadata-timestamp"},
"#dom-rtcencodedvideoframetype-delta": {"displayText":"\"delta\"","export":true,"for_":["RTCEncodedVideoFrameType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"delta\"","type":"enum-value","url":"#dom-rtcencodedvideoframetype-delta"},
"#dom-rtcencodedvideoframetype-empty": {"displayText":"\"empty\"","export":true,"for_":["RTCEncodedVideoFrameType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"empty\"","type":"enum-value","url":"#dom-rtcencodedvideoframetype-empty"},
"#dom-rtcencodedvideoframetype-key": {"displayText":"\"key\"","export":true,"for_":["RTCEncodedVideoFrameType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"key\"","type":"enum-value","url":"#dom-rtcencodedvideoframetype-key"},
"#dom-rtcrtpscripttransform-rtcrtpscripttransform": {"displayText":"RTCRtpScriptTransform(worker, options)","export":true,"for_":["RTCRtpScriptTransform"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCRtpScriptTransform(worker, options)","type":"constructor","url":"#dom-rtcrtpscripttransform-rtcrtpscripttransform"},
"#dom-rtcrtpscripttransformer-options": {"displayText":"options","export":true,"for_":["RTCRtpScriptTransformer"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"options","type":"attribute","url":"#dom-rtcrtpscripttransformer-options"},
"#dom-rtcrtpsender-generatekeyframe": {"displayText":"generateKeyFrame(rids)","export":true,"for_":["RTCRtpSender"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"generateKeyFrame(rids)","type":"method","url":"#dom-rtcrtpsender-generatekeyframe"},
"#dom-rtcrtpsender-transform": {"displayText":"transform","export":true,"for_":["RTCRtpReceiver","RTCRtpSender"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"transform","type":"attribute","url":"#dom-rtcrtpsender-transform"},
"#dom-rtctransformevent-transformer": {"displayText":"transformer","export":true,"for_":["RTCTransformEvent"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"transformer","type":"attribute","url":"#dom-rtctransformevent-transformer"},
"#dom-sframetransform-onerror": {"displayText":"onerror","export":true,"for_":["SFrameTransform"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"onerror","type":"attribute","url":"#dom-sframetransform-onerror"},
"#dom-sframetransform-setencryptionkey": {"displayText":"setEncryptionKey(key, keyID)","export":true,"for_":["SFrameTransform"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"setEncryptionKey(key, keyID)","type":"method","url":"#dom-sframetransform-setencryptionkey"},
"#dom-sframetransform-sframetransform": {"displayText":"SFrameTransform(options)","export":true,"for_":["SFrameTransform"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransform(options)","type":"constructor","url":"#dom-sframetransform-sframetransform"},
"#dom-sframetransformerrorevent-errortype": {"displayText":"errorType","export":true,"for_":["SFrameTransformErrorEvent"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"errorType","type":"attribute","url":"#dom-sframetransformerrorevent-errortype"},
"#dom-sframetransformerrorevent-frame": {"displayText":"frame","export":true,"for_":["SFrameTransformErrorEvent"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"frame","type":"attribute","url":"#dom-sframetransformerrorevent-frame"},
"#dom-sframetransformerrorevent-keyid": {"displayText":"keyID","export":true,"for_":["SFrameTransformErrorEvent"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"keyID","type":"attribute","url":"#dom-sframetransformerrorevent-keyid"},
"#dom-sframetransformerroreventtype-authentication": {"displayText":"\"authentication\"","export":true,"for_":["SFrameTransformErrorEventType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"authentication\"","type":"enum-value","url":"#dom-sframetransformerroreventtype-authentication"},
"#dom-sframetransformerroreventtype-keyid": {"displayText":"\"keyID\"","export":true,"for_":["SFrameTransformErrorEventType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"keyID\"","type":"enum-value","url":"#dom-sframetransformerroreventtype-keyid"},
"#dom-sframetransformerroreventtype-syntax": {"displayText":"\"syntax\"","export":true,"for_":["SFrameTransformErrorEventType"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"\"syntax\"","type":"enum-value","url":"#dom-sframetransformerroreventtype-syntax"},
"#dom-sframetransformoptions-role": {"displayText":"role","export":true,"for_":["SFrameTransformOptions"],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"role","type":"dict-member","url":"#dom-sframetransformoptions-role"},
"#enumdef-rtcencodedvideoframetype": {"displayText":"RTCEncodedVideoFrameType","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedVideoFrameType","type":"enum","url":"#enumdef-rtcencodedvideoframetype"},
"#enumdef-sframetransformerroreventtype": {"displayText":"SFrameTransformErrorEventType","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransformErrorEventType","type":"enum","url":"#enumdef-sframetransformerroreventtype"},
"#enumdef-sframetransformrole": {"displayText":"SFrameTransformRole","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransformRole","type":"enum","url":"#enumdef-sframetransformrole"},
"#keyframerequestevent": {"displayText":"KeyFrameRequestEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"KeyFrameRequestEvent","type":"interface","url":"#keyframerequestevent"},
"#rtcencodedaudioframe": {"displayText":"RTCEncodedAudioFrame","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedAudioFrame","type":"interface","url":"#rtcencodedaudioframe"},
"#rtcencodedvideoframe": {"displayText":"RTCEncodedVideoFrame","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCEncodedVideoFrame","type":"interface","url":"#rtcencodedvideoframe"},
"#rtcrtpscripttransform": {"displayText":"RTCRtpScriptTransform","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCRtpScriptTransform","type":"interface","url":"#rtcrtpscripttransform"},
"#rtcrtpscripttransformer": {"displayText":"RTCRtpScriptTransformer","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCRtpScriptTransformer","type":"interface","url":"#rtcrtpscripttransformer"},
"#rtctransformevent": {"displayText":"RTCTransformEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCTransformEvent","type":"interface","url":"#rtctransformevent"},
"#sframetransform": {"displayText":"SFrameTransform","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransform","type":"interface","url":"#sframetransform"},
"#sframetransformerrorevent": {"displayText":"SFrameTransformErrorEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SFrameTransformErrorEvent","type":"interface","url":"#sframetransformerrorevent"},
"#typedefdef-cryptokeyid": {"displayText":"CryptoKeyID","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"CryptoKeyID","type":"typedef","url":"#typedefdef-cryptokeyid"},
"#typedefdef-rtcrtptransform": {"displayText":"RTCRtpTransform","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"RTCRtpTransform","type":"typedef","url":"#typedefdef-rtcrtptransform"},
"#typedefdef-smallcryptokeyid": {"displayText":"SmallCryptoKeyID","export":true,"for_":[],"level":"","normative":true,"shortname":"webrtc-encoded-transform","spec":"webrtc-encoded-transform","status":"local","text":"SmallCryptoKeyID","type":"typedef","url":"#typedefdef-smallcryptokeyid"},
"https://dom.spec.whatwg.org/#abortcontroller": {"displayText":"AbortController","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortController","type":"interface","url":"https://dom.spec.whatwg.org/#abortcontroller"},
"https://dom.spec.whatwg.org/#abortcontroller-signal": {"displayText":"signal","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"https://dom.spec.whatwg.org/#abortcontroller-signal-abort": {"displayText":"signal abort","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal abort","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"https://dom.spec.whatwg.org/#abortsignal-aborted": {"displayText":"aborted","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"aborted","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"https://dom.spec.whatwg.org/#abortsignal-add": {"displayText":"add","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"add","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"https://dom.spec.whatwg.org/#canceled-flag": {"displayText":"canceled flag","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"canceled flag","type":"dfn","url":"https://dom.spec.whatwg.org/#canceled-flag"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"displayText":"fire an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#dictdef-eventinit": {"displayText":"EventInit","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventInit","type":"dictionary","url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"https://dom.spec.whatwg.org/#dom-event-cancelable": {"displayText":"cancelable","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"cancelable","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-cancelable"},
"https://dom.spec.whatwg.org/#event": {"displayText":"Event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget": {"displayText":"EventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps": {"displayText":"deserialization steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"deserialization steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps"},
"https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone": {"displayText":"structuredClone(value, options)","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"structuredClone(value, options)","type":"method","url":"https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone"},
"https://html.spec.whatwg.org/multipage/structured-data.html#serializable": {"displayText":"Serializable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Serializable","type":"extended-attribute","url":"https://html.spec.whatwg.org/multipage/structured-data.html#serializable"},
"https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects": {"displayText":"serializable object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"serializable object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"},
"https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps": {"displayText":"serialization steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"serialization steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps"},
"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer": {"displayText":"StructuredDeserializeWithTransfer","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"StructuredDeserializeWithTransfer","type":"abstract-op","url":"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"},
"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer": {"displayText":"StructuredSerializeWithTransfer","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"StructuredSerializeWithTransfer","type":"abstract-op","url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"},
"https://html.spec.whatwg.org/multipage/structured-data.html#sub-deserialization": {"displayText":"sub-deserialization","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sub-deserialization","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#sub-deserialization"},
"https://html.spec.whatwg.org/multipage/structured-data.html#sub-serialization": {"displayText":"sub-serialization","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sub-serialization","type":"dfn","url":"https://html.spec.whatwg.org/multipage/structured-data.html#sub-serialization"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": {"displayText":"relevant realm","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": {"displayText":"queue a task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"displayText":"task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope": {"displayText":"DedicatedWorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"DedicatedWorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#worker": {"displayText":"Worker","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Worker","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#worker"},
"https://streams.spec.whatwg.org/#generictransformstream": {"displayText":"GenericTransformStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"GenericTransformStream","type":"interface","url":"https://streams.spec.whatwg.org/#generictransformstream"},
"https://streams.spec.whatwg.org/#identity-transform-stream": {"displayText":"identity transform stream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"identity transform stream","type":"dfn","url":"https://streams.spec.whatwg.org/#identity-transform-stream"},
"https://streams.spec.whatwg.org/#readablestream": {"displayText":"ReadableStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"ReadableStream","type":"interface","url":"https://streams.spec.whatwg.org/#readablestream"},
"https://streams.spec.whatwg.org/#readablestream-enqueue": {"displayText":"enqueue","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"enqueue","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"https://streams.spec.whatwg.org/#readablestream-get-a-reader": {"displayText":"getting a reader","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"getting a reader","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-get-a-reader"},
"https://streams.spec.whatwg.org/#readablestream-set-up": {"displayText":"set up","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"set up","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"https://streams.spec.whatwg.org/#readablestreamdefaultreader-release": {"displayText":"release","export":true,"for_":["ReadableStreamDefaultReader"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"release","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-release"},
"https://streams.spec.whatwg.org/#transformstream": {"displayText":"TransformStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"TransformStream","type":"interface","url":"https://streams.spec.whatwg.org/#transformstream"},
"https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm": {"displayText":"transformAlgorithm","export":true,"for_":["TransformStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"transformalgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm"},
"https://streams.spec.whatwg.org/#writablestream": {"displayText":"WritableStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"WritableStream","type":"interface","url":"https://streams.spec.whatwg.org/#writablestream"},
"https://streams.spec.whatwg.org/#writablestream-get-a-writer": {"displayText":"getting a writer","export":true,"for_":["WritableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"getting a writer","type":"dfn","url":"https://streams.spec.whatwg.org/#writablestream-get-a-writer"},
"https://streams.spec.whatwg.org/#writablestream-set-up": {"displayText":"set up","export":true,"for_":["WritableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"set up","type":"dfn","url":"https://streams.spec.whatwg.org/#writablestream-set-up"},
"https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark": {"displayText":"highWaterMark","export":true,"for_":["WritableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"highwatermark","type":"dfn","url":"https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark"},
"https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm": {"displayText":"writeAlgorithm","export":true,"for_":["WritableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"writealgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm"},
"https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release": {"displayText":"release","export":true,"for_":["WritableStreamDefaultWriter"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"release","type":"dfn","url":"https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release"},
"https://w3c.github.io/hr-time/#dom-domhighrestimestamp": {"displayText":"DOMHighResTimeStamp","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"DOMHighResTimeStamp","type":"typedef","url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"https://w3c.github.io/hr-time/#dom-performance": {"displayText":"Performance","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"Performance","type":"interface","url":"https://w3c.github.io/hr-time/#dom-performance"},
"https://w3c.github.io/hr-time/#dom-performance-timeorigin": {"displayText":"timeOrigin","export":true,"for_":["Performance"],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"timeOrigin","type":"attribute","url":"https://w3c.github.io/hr-time/#dom-performance-timeorigin"},
"https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack": {"displayText":"MediaStreamTrack","export":true,"for_":[],"level":"1","normative":true,"shortname":"mediacapture-streams","spec":"mediacapture-streams","status":"current","text":"MediaStreamTrack","type":"interface","url":"https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack"},
"https://w3c.github.io/webcodecs/#dom-videoframe-timestamp": {"displayText":"timestamp","export":true,"for_":["VideoFrame"],"level":"1","normative":true,"shortname":"webcodecs","spec":"webcodecs","status":"current","text":"timestamp","type":"attribute","url":"https://w3c.github.io/webcodecs/#dom-videoframe-timestamp"},
"https://w3c.github.io/webcrypto/#dfn-CryptoKey": {"displayText":"CryptoKey","export":true,"for_":[],"level":"2","normative":true,"shortname":"webcrypto","spec":"webcrypto-2","status":"current","text":"CryptoKey","type":"interface","url":"https://w3c.github.io/webcrypto/#dfn-CryptoKey"},
"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration": {"displayText":"RTCConfiguration","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCConfiguration","type":"dictionary","url":"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration"},
"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection": {"displayText":"RTCPeerConnection","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCPeerConnection","type":"interface","url":"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection"},
"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver": {"displayText":"RTCRtpReceiver","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCRtpReceiver","type":"interface","url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver"},
"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender": {"displayText":"RTCRtpSender","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCRtpSender","type":"interface","url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"},
"https://webidl.spec.whatwg.org/#BufferSource": {"displayText":"BufferSource","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"BufferSource","type":"typedef","url":"https://webidl.spec.whatwg.org/#BufferSource"},
"https://webidl.spec.whatwg.org/#EnforceRange": {"displayText":"EnforceRange","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"EnforceRange","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#EnforceRange"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#a-new-promise": {"displayText":"a new promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a new promise","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"https://webidl.spec.whatwg.org/#a-promise-resolved-with": {"displayText":"a promise resolved with","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise resolved with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"https://webidl.spec.whatwg.org/#datacloneerror": {"displayText":"DataCloneError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DataCloneError","type":"exception","url":"https://webidl.spec.whatwg.org/#datacloneerror"},
"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror": {"displayText":"RangeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"RangeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"displayText":"TypeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-ArrayBuffer": {"displayText":"ArrayBuffer","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-any": {"displayText":"any","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"any","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-any"},
"https://webidl.spec.whatwg.org/#idl-bigint": {"displayText":"bigint","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"bigint","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-bigint"},
"https://webidl.spec.whatwg.org/#idl-double": {"displayText":"double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-double"},
"https://webidl.spec.whatwg.org/#idl-long-long": {"displayText":"long long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-long-long"},
"https://webidl.spec.whatwg.org/#idl-object": {"displayText":"object","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"object","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-object"},
"https://webidl.spec.whatwg.org/#idl-octet": {"displayText":"octet","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"octet","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-octet"},
"https://webidl.spec.whatwg.org/#idl-promise": {"displayText":"Promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-short": {"displayText":"short","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"short","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-short"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"displayText":"undefined","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long": {"displayText":"unsigned long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long-long": {"displayText":"unsigned long long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"https://webidl.spec.whatwg.org/#idl-unsigned-short": {"displayText":"unsigned short","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned short","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-short"},
"https://webidl.spec.whatwg.org/#invalidmodificationerror": {"displayText":"InvalidModificationError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidModificationError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidmodificationerror"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"displayText":"InvalidStateError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#notfounderror": {"displayText":"NotFoundError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotFoundError","type":"exception","url":"https://webidl.spec.whatwg.org/#notfounderror"},
"https://webidl.spec.whatwg.org/#reject": {"displayText":"reject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reject","type":"dfn","url":"https://webidl.spec.whatwg.org/#reject"},
"https://webidl.spec.whatwg.org/#resolve": {"displayText":"resolve","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"resolve","type":"dfn","url":"https://webidl.spec.whatwg.org/#resolve"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>